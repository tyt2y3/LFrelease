define("F.core/css",{load:function(e,t,n,r){function i(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=e,n.rel="stylesheet",n.type="text/css",t.appendChild(n)}i(requirejs.toUrl(e)),n(!0)},pluginBuilder:"./css-build"}),define("F.core/css-embed",function(){function e(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),r=document.createTextNode(e);n.type="text/css",n.styleSheet?n.styleSheet.cssText=r.nodeValue:n.appendChild(r),t.appendChild(n)}return e}),define("F.core/css!F.core/style.css",["F.core/css-embed"],function(e){return e(".F_sprite { position:absolute; overflow:hidden; width:10px; height:10px; } .F_sprite_inline { overflow:hidden; width:10px; height:10px; } .F_sprite_img { position:absolute; } .canvas { position:relative; width:800px; /*height:577px;*/ height:300px; border:1px solid #000; } .page { position: absolute; left: 0px; top: 0px; border: 1px solid #000; z-index: 10000; } "),!0}),define("F.core/support",[],function(){var e={};return function(){var t=navigator.userAgent.toLowerCase(),n=/(webkit)[ \/]([\w.]+)/.exec(t)||/(o)pera(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(ms)ie ([\w.]+)/.exec(t)||/(moz)illa(?:.*? rv:([\w.]+))?/.exec(t)||[],r=/iPad|iPod|iPhone|Android|webOS|IEMobile/i.exec(t);e.mobile=r?r[0]:undefined,e.prefix=n[1]||n[0],e.prefix==="moz"&&(e.prefix="Moz"),e.prefix==="o"&&(e.prefix="O"),n[2]&&(e.version=+n[2].split(".")[0])}(),function(){e.css2dtransform=undefined,e.css3dtransform=undefined;var t=document.createElement("p"),n,r,i={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.getElementsByTagName("body")[0].appendChild(t);for(n in i)if(t.style[n]!==undefined){var s;s="matrix(1, 0, 0, 1, 0, 0)",t.style[n]=s,s===window.getComputedStyle(t).getPropertyValue(i[n])&&(e.css2dtransform=n),s="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",t.style[n]=s,s===window.getComputedStyle(t).getPropertyValue(i[n])&&(e.css3dtransform=n)}t.parentNode.removeChild(t)}(),function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e}),define("F.core/sprite",["F.core/css!F.core/style.css","F.core/support","module"],function(e,t,n){function s(e){this.ID=r,r++,e.div?(this.el=e.div,this.el.className?this.el.className+=" F_sprite_inline":this.el.className="F_sprite_inline",window.getComputedStyle(this.el).getPropertyValue("position")==="static"&&(this.el.style.position="relative")):(this.el=document.createElement("div"),this.el.className="F_sprite",e.canvas.appendChild(this.el)),this.img={},this.cur_img=null,this.set_wh(e.wh);if(e.img)if(typeof e.img=="object")for(var n in e.img)this.add_img(e.img[n],n);else this.add_img(e.img,"0");if(e.div){var i=e.div.getElementsByTagName("img");for(var s=0;s<i.length;s++){var o=i[s].getAttribute("name");o&&this.adopt_img(i[s])}}t.css2dtransform&&!e.div&&(this.el.style.left="0px",this.el.style.top="0px")}var r=0,i=n.config();return s.masterconfig=s.prototype.masterconfig=function(e){i=e},s.prototype.set_wh=function(e){this.el.style.width=e.x+"px",this.el.style.height=e.y+"px"},t.css2dtransform&&!i.disable_css2dtransform?s.prototype.set_xy=function(e){this.el.style[t.css2dtransform]="translate("+e.x+"px,"+e.y+"px) "}:s.prototype.set_xy=function(e){this.el.style.left=e.x+"px",this.el.style.top=e.y+"px"},s.prototype.set_z=function(e){this.el.style.zIndex=Math.round(e)},s.prototype.add_img=function(e,t){var n="";i.baseUrl&&(n=i.baseUrl);var r=document.createElement("img");return r.setAttribute("class","F_sprite_img"),r.onload=function(){this.naturalWidth||(this.naturalWidth=this.width),this.naturalHeight||(this.naturalHeight=this.height),this.onload=null},r.src=n+e,this.el.appendChild(r),this.img[t]=r,this.switch_img(t),r},s.prototype.adopt_img=function(e){var t=e.getAttribute("name");e.hasAttribute("class")?e.setAttribute("class",e.getAttribute("class")+" F_sprite_img"):e.setAttribute("class","F_sprite_img"),e.naturalWidth||(e.naturalWidth=e.width),e.naturalHeight||(e.naturalHeight=e.height),!e.naturalWidth&&!e.naturalHeight&&(e.onload=function(){this.naturalWidth||(this.naturalWidth=this.width),this.naturalHeight||(this.naturalHeight=this.height),this.onload=null}),this.img[t]=e,this.switch_img(t)},s.prototype.switch_img=function(e){var t,n;for(var r in this.img)if(this.img[r].style.display==""){t=this.img[r].style.left,n=this.img[r].style.top;break}for(var r in this.img)r==e?(this.img[r].style.left=t,this.img[r].style.top=n,this.img[r].style.display=""):this.img[r].style.display="none";this.cur_img=e},s.prototype.set_img_xy=function(e){this.img[this.cur_img].style.left=e.x+"px",this.img[this.cur_img].style.top=e.y+"px"},s.prototype.remove=function(){this.el.parentNode.removeChild(this.el),this.removed=!0},s.prototype.attach=function(){this.removed&&config.canvas.appendChild(this.el)},s.prototype.hide=function(){this.el.style.display="none"},s.prototype.show=function(){this.el.style.display=""},s}),define("F.core/animator",[],function(){function e(e){this.config=e,this.target=e.tar,this.I=0,this.horimirror=!1,e.borderright||(e.borderright=0),e.borderbottom||(e.borderbottom=0),e.borderleft||(e.borderleft=0),e.bordertop||(e.bordertop=0)}return e.prototype.next_frame=function(){var e=this.config;this.I++;if(!e.ani)this.I==e.gx*e.gy&&(this.I=0),this.show_frame(this.I);else{var t=e.ani[this.I];if(this.I>=e.ani.length||this.I<0)this.I=0,t=e.ani[0];this.show_frame(t)}return this.I},e.prototype.seek=function(e){var t=this.config;if(t.ani&&e>=0&&e<t.ani.length){this.I=e;var n=t.ani[this.I];this.show_frame(n)}},e.prototype.rewind=function(){this.I=-1,this.next_frame()},e.prototype.set_frame=function(e){this.I=e,this.show_frame(e)},e.prototype.hmirror=function(e){this.horimirror=e},e.prototype.show_frame=function(e){var t=this.config,n,r;n=-(e%t.gx*t.w+t.x+t.borderleft),r=-(Math.floor(e/t.gx)*t.h+t.y+t.bordertop),this.horimirror&&(n=-this.target.img[this.target.cur_img].naturalWidth-n+t.w-t.borderleft-t.borderright),this.target.set_wh({x:t.w-t.borderleft-t.borderright,y:t.h-t.bordertop-t.borderbottom}),this.target.set_img_xy({x:n,y:r})},e.prototype.get_at=function(e){e||(e=this.I);var t=this.config;return t.graph[e%t.gx][Math.floor(e/t.gx)]},e.set=function(t,n){if(!t)return null;var r=new Object;for(var i in t){if(n&&i==n)continue;if(n&&t[n])for(var s in t[n])t[i][s]=t[n][s];r[i]=new e(t[i])}return r},e}),define("LF/sprite",["F.core/sprite","F.core/animator"],function(e,t){function n(n,r){var i=this.num_of_images=n.file.length,s=this.w=n.file[0].w+1,o=this.h=n.file[0].h+1,u=this.ani={length:0};this.dir="right",this.cur_img=0;var a={canvas:r,wh:{x:s,y:o},img:{}},f=this.sp=new e(a);for(var l=0;l<n.file.length;l++){var c="";for(var h in n.file[l])typeof n.file[l][h]=="string"&&h.indexOf("file")===0&&(c=n.file[l][h]);c===""&&console.log("cannot find img path in data:\n"+JSON.stringify(n.file[l])),f.add_img(c,l+"r");if(n.file[l].mirror)n.file[l].mirror!=="none"&&f.add_img(n.file[l].mirror,l+"l");else{var p=c.lastIndexOf(".");f.add_img(c.slice(0,p)+"_mirror"+c.slice(p),l+"l")}var d={x:0,y:0,w:n.file[l].w+1,h:n.file[l].h+1,gx:n.file[l].row,gy:n.file[l].col,tar:f,borderright:1,borderbottom:1};u.length++,u[l]=new t(d)}}return n.prototype.show_pic=function(e){var t=0;for(var n=0;n<this.ani.length;n++){var r=e-this.ani[n].config.gx*this.ani[n].config.gy;if(!(r>=0))break;e=r,t++}this.cur_img=t,this.sp.switch_img(this.cur_img+(this.dir==="right"?"r":"l")),this.ani[this.cur_img].hmirror(this.dir==="left"),this.ani[this.cur_img].set_frame(e),this.w=this.ani[this.cur_img].config.w,this.h=this.ani[this.cur_img].config.h},n.prototype.switch_lr=function(e){var t=this.ani[this.cur_img].I;this.dir=e,this.sp.switch_img(this.cur_img+(this.dir==="right"?"r":"l")),this.ani[this.cur_img].hmirror(this.dir==="left"),this.ani[this.cur_img].set_frame(t)},n.prototype.set_xy=function(e){this.sp.set_xy(e)},n.prototype.set_z=function(e){this.sp.set_z(e)},n.prototype.show=function(){this.sp.show()},n.prototype.hide=function(){this.sp.hide()},n}),requirejs.config({baseUrl:"../../"}),requirejs(["LF/sprite","LFrelease/LF2_19/data/bandit"],function(e,t){function n(){t.bmp.file[0]["file(0-69)"]="../../LFrelease/LF2_19/sprite/bandit_0.png",t.bmp.file[1]["file(70-139)"]="../../LFrelease/LF2_19/sprite/bandit_1.png",list=[{data:t,seq:[{name:"stop_running",frame:[10,218,218,218,218,218,0],remark:[]},{name:"rowing",frame:[10,102,102,103,103,103,104,104,104,105,105,105,219,219,219,0,0,0,0],remark:[]},{name:"attack (punch)",frame:[60,60,61,61,61,61,0],remark:["","","when really hit some body",", will stall for 3 extra TU",", i.e. totally 7 TU of frame 61"]},{name:"jump",frame:[0,210,211,211,212,212,215,215,0],remark:["","","","","still on the ground","20 TU in air"]},{name:"jump_attack",frame:[0,210,211,211,212,212,80,80,81,81,81,81,81,81,81,212,212],remark:["","","","","still on the ground","",""]},{name:"dash",frame:[10,213,216,219,219,0],remark:["","8 TU in air","5 TU in air"]},{name:"dash attack",frame:[10,213,90,90,90,91,219,219,0],remark:["","","depends on when `att` is pressed","","","until fall on the ground"]},{name:"run_attack",frame:[10,85,85,85,85,86,86,86,87,87,87,87,0],remark:[]},{name:"being hit by run attack",frame:[0,180,180,180,180,181,181,181,181,182,182,182,182,183,230],remark:["the TU being hit, nothing","affected by effect type 0, oscillates","","","effect vanishes","starts moving, according to dvx,dvy"]},{name:"super punch (punch others to fall)",frame:[0,70,70,71,71,71,72,72,72,72,72,72,73,73,73,73,0],remark:[]},{name:"being hit",frame:[0,220,221,222,223,226,227,228,229,0],remark:["being hit","5 TU. oscillates. effect lasts for 3 TU","4 TU","5 TU. oscillates. effect lasts for 3 TU","4 TU","9 TU. oscillates. effect lasts for 3 TU","7 TU","7 TU","7 TU"]},{name:"hit by super punch AND hit by dash attack (at the front)",frame:[0,180,180,180,180,181,181,181,181,182,182,182,182,183,185,185,185,185,185,185,230],remark:["being hit","stays and oscillates","","","effect vanishes","starts moving","","","","","","","","only if hit by dash attack","bounce up, never actually touching the ground","","","","",""]},{name:"pick up light weapon",frame:[115,115,115,115,115,0],remark:[]},{name:"throw light weapon (standing or running)",frame:[45,46,47,0],remark:["6 TU","2 TU","10 TU"]},{name:"pick up heavy weapon",frame:[116,117,117,0,12],remark:["5 TU","1 TU","5 TU. the stone moved up a little bit","stone disappears in old version, stays in new versions","stone is on top of fighter"]},{name:"throw heavy weapon",frame:[50,51,0],remark:["6 TU","11 TU"]},{name:"light weapon attack",frame:[25,26,26,27,27,28,28,0],remark:[]},{name:"light weapon attack (varient)",frame:[20,21,21,22,22,23,23,0],remark:[]},{name:"defence",frame:[0,110,111,110],remark:["","12 TU. if being hit <b>at front</b>, next frame will be 111","5 TU. being hit. oscillates. effect vanishes at last TU","12 TU. whenever back from frame 111"]},{name:"broken defence",frame:[112,112,113,113,113,114,114,114],remark:["5 TU. oscillates.","2 TU. effect vanishes"]},{name:"catching",frame:[5,120,121,121,122,123,123,123,123,123,121],remark:["move and catch","caught. 5 TU","","att pressed","5 TU"]},{name:"caught",frame:[226,131,130,130,130,130,132,132,132,132,132,130],remark:["in dance of pain","being caught. 6 TU","","","","being hit","effect type 0","","","effect vanished"]},{name:"throw lying man",frame:[121,232,233,234,0],remark:["","7 TU","the man left my hand at 2nd TU","233,234: total 11 TU"]},{name:"being thrown",frame:[130,135,181,182,183,185,230],remark:["","8 TU","5 TU. already left catcher's hand","4 TU","3 TU","6 TU. bounced up on the 3rd TU","from leaving hand to touching ground: 19 TU"]}]}]}function r(e,t,n){var r=document.createElement(t);return e.appendChild(r),n&&(r.id=n),r}function i(e,t){var n=r(e,"td");return n.innerHTML=t,n}function s(t){var n=r(t,"div","view");n.style.width="2000px";for(var s=0;s<list.length;s++){var o=list[s].data,u=r(n,"div",o.bmp.name);r(u,"span").innerHTML=o.bmp.name;var a=list[s].seq;for(var f=0;f<a.length;f++){var l=r(u,"table"),c=r(l,"tr"),h=r(l,"tr"),p=r(l,"tr"),d=r(l,"tr"),v=r(l,"tr");i(c,"name:");var m=i(c,a[f].name);m.colSpan="99",i(h,"frame:"),i(p,"pic:"),i(d,"state:"),i(v,"remarks:");var g=a[f].frame;for(var y=0;y<g.length;y++){i(h,g[y]);var b=o.frame[g[y]];i(d,b.state);var w=i(p,"");w.style.position="relative",w.style.width=o.bmp.file[0].w+1+"px",w.style.height=o.bmp.file[0].h+1+"px";var E=new e(o.bmp,w);E.show_pic(b.pic),E.set_xy({x:0,y:0})}var S=a[f].remark;for(var y=0;y<S.length;y++)i(v,S[y]?S[y]:"")}}}n(),s(document.getElementsByTagName("body")[0])}),define("LF/tools/frame_transition_sequence",function(){});
