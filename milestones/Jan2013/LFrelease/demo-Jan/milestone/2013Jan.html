<head>
<meta http-equiv='content-type' content='text/html; charset=UTF-8'>
</head>

<body>
<div id='stage' class='canvas'></div>
<input id='fps' value='NaNfps'></input>
<div id='keychanger' class='page'></div>
<span style='font-size:14px;'>note: use `1` to pause, `2` to step frame</span>
<script>/*
 RequireJS 2.1.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/
var requirejs,require,define;
(function(W){function D(b){return M.call(b)==="[object Function]"}function E(b){return M.call(b)==="[object Array]"}function t(b,c){if(b){var d;for(d=0;d<b.length;d+=1)if(b[d]&&c(b[d],d,b))break}}function N(b,c){if(b){var d;for(d=b.length-1;d>-1;d-=1)if(b[d]&&c(b[d],d,b))break}}function A(b,c){for(var d in b)if(b.hasOwnProperty(d)&&c(b[d],d))break}function O(b,c,d,g){c&&A(c,function(c,j){if(d||!F.call(b,j))g&&typeof c!=="string"?(b[j]||(b[j]={}),O(b[j],c,d,g)):b[j]=c});return b}function r(b,c){return function(){return c.apply(b,
arguments)}}function X(b){if(!b)return b;var c=W;t(b.split("."),function(b){c=c[b]});return c}function G(b,c,d,g){c=Error(c+"\nhttp://requirejs.org/docs/errors.html#"+b);c.requireType=b;c.requireModules=g;if(d)c.originalError=d;return c}function ba(){if(H&&H.readyState==="interactive")return H;N(document.getElementsByTagName("script"),function(b){if(b.readyState==="interactive")return H=b});return H}var g,s,u,y,q,B,H,I,Y,Z,ca=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,da=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
$=/\.js$/,ea=/^\.\//;s=Object.prototype;var M=s.toString,F=s.hasOwnProperty,fa=Array.prototype.splice,v=!!(typeof window!=="undefined"&&navigator&&document),aa=!v&&typeof importScripts!=="undefined",ga=v&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,R=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",w={},n={},P=[],J=!1;if(typeof define==="undefined"){if(typeof requirejs!=="undefined"){if(D(requirejs))return;n=requirejs;requirejs=void 0}typeof require!=="undefined"&&
!D(require)&&(n=require,require=void 0);g=requirejs=function(b,c,d,p){var i,j="_";!E(b)&&typeof b!=="string"&&(i=b,E(c)?(b=c,c=d,d=p):b=[]);if(i&&i.context)j=i.context;(p=w[j])||(p=w[j]=g.s.newContext(j));i&&p.configure(i);return p.require(b,c,d)};g.config=function(b){return g(b)};g.nextTick=typeof setTimeout!=="undefined"?function(b){setTimeout(b,4)}:function(b){b()};require||(require=g);g.version="2.1.1";g.jsExtRegExp=/^\/|:|\?|\.js$/;g.isBrowser=v;s=g.s={contexts:w,newContext:function(b){function c(a,
f,x){var e,m,b,c,d,h,i,g=f&&f.split("/");e=g;var j=k.map,l=j&&j["*"];if(a&&a.charAt(0)===".")if(f){e=k.pkgs[f]?g=[f]:g.slice(0,g.length-1);f=a=e.concat(a.split("/"));for(e=0;f[e];e+=1)if(m=f[e],m===".")f.splice(e,1),e-=1;else if(m==="..")if(e===1&&(f[2]===".."||f[0]===".."))break;else e>0&&(f.splice(e-1,2),e-=2);e=k.pkgs[f=a[0]];a=a.join("/");e&&a===f+"/"+e.main&&(a=f)}else a.indexOf("./")===0&&(a=a.substring(2));if(x&&(g||l)&&j){f=a.split("/");for(e=f.length;e>0;e-=1){b=f.slice(0,e).join("/");if(g)for(m=
g.length;m>0;m-=1)if(x=j[g.slice(0,m).join("/")])if(x=x[b]){c=x;d=e;break}if(c)break;!h&&l&&l[b]&&(h=l[b],i=e)}!c&&h&&(c=h,d=i);c&&(f.splice(0,d,c),a=f.join("/"))}return a}function d(a){v&&t(document.getElementsByTagName("script"),function(f){if(f.getAttribute("data-requiremodule")===a&&f.getAttribute("data-requirecontext")===h.contextName)return f.parentNode.removeChild(f),!0})}function p(a){var f=k.paths[a];if(f&&E(f)&&f.length>1)return d(a),f.shift(),h.require.undef(a),h.require([a]),!0}function i(a){var f,
b=a?a.indexOf("!"):-1;b>-1&&(f=a.substring(0,b),a=a.substring(b+1,a.length));return[f,a]}function j(a,f,b,e){var m,K,d=null,g=f?f.name:null,j=a,l=!0,k="";a||(l=!1,a="_@r"+(M+=1));a=i(a);d=a[0];a=a[1];d&&(d=c(d,g,e),K=o[d]);a&&(d?k=K&&K.normalize?K.normalize(a,function(a){return c(a,g,e)}):c(a,g,e):(k=c(a,g,e),a=i(k),d=a[0],k=a[1],b=!0,m=h.nameToUrl(k)));b=d&&!K&&!b?"_unnormalized"+(N+=1):"";return{prefix:d,name:k,parentMap:f,unnormalized:!!b,url:m,originalName:j,isDefine:l,id:(d?d+"!"+k:k)+b}}function n(a){var f=
a.id,b=l[f];b||(b=l[f]=new h.Module(a));return b}function q(a,f,b){var e=a.id,m=l[e];if(F.call(o,e)&&(!m||m.defineEmitComplete))f==="defined"&&b(o[e]);else n(a).on(f,b)}function z(a,f){var b=a.requireModules,e=!1;if(f)f(a);else if(t(b,function(f){if(f=l[f])f.error=a,f.events.error&&(e=!0,f.emit("error",a))}),!e)g.onError(a)}function s(){P.length&&(fa.apply(C,[C.length-1,0].concat(P)),P=[])}function u(a,f,b){var e=a.map.id;a.error?a.emit("error",a.error):(f[e]=!0,t(a.depMaps,function(e,c){var d=e.id,
g=l[d];g&&!a.depMatched[c]&&!b[d]&&(f[d]?(a.defineDep(c,o[d]),a.check()):u(g,f,b))}),b[e]=!0)}function w(){var a,f,b,e,m=(b=k.waitSeconds*1E3)&&h.startTime+b<(new Date).getTime(),c=[],g=[],i=!1,j=!0;if(!S){S=!0;A(l,function(b){a=b.map;f=a.id;if(b.enabled&&(a.isDefine||g.push(b),!b.error))if(!b.inited&&m)p(f)?i=e=!0:(c.push(f),d(f));else if(!b.inited&&b.fetched&&a.isDefine&&(i=!0,!a.prefix))return j=!1});if(m&&c.length)return b=G("timeout","Load timeout for modules: "+c,null,c),b.contextName=h.contextName,
z(b);j&&t(g,function(a){u(a,{},{})});if((!m||e)&&i)if((v||aa)&&!T)T=setTimeout(function(){T=0;w()},50);S=!1}}function y(a){n(j(a[0],null,!0)).init(a[1],a[2])}function B(a){var a=a.currentTarget||a.srcElement,b=h.onScriptLoad;a.detachEvent&&!R?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=h.onScriptError;a.detachEvent&&!R||a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function I(){var a;for(s();C.length;)if(a=C.shift(),a[0]===
null)return z(G("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));else y(a)}var S,U,h,L,T,k={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},map:{},config:{}},l={},V={},C=[],o={},Q={},M=1,N=1;L={require:function(a){return a.require?a.require:a.require=h.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?a.exports:a.exports=o[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return k.config&&
k.config[a.map.id]||{}},exports:o[a.map.id]}}};U=function(a){this.events=V[a.id]||{};this.map=a;this.shim=k.shim[a.id];this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};U.prototype={init:function(a,b,c,e){e=e||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=r(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=e.ignore;e.enabled||this.enabled?this.enable():this.check()}},
defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;h.startTime=(new Date).getTime();var a=this.map;if(this.shim)h.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],r(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;Q[a]||(Q[a]=!0,h.load(this.map.id,a))},check:function(){if(this.enabled&&
!this.enabling){var a,b,c=this.map.id;b=this.depExports;var e=this.exports,m=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(D(m)){if(this.events.error)try{e=h.execCb(c,m,b,e)}catch(d){a=d}else e=h.execCb(c,m,b,e);if(this.map.isDefine)if((b=this.module)&&b.exports!==void 0&&b.exports!==this.exports)e=b.exports;else if(e===void 0&&this.usingExports)e=this.exports;if(a)return a.requireMap=this.map,
a.requireModules=[this.map.id],a.requireType="define",z(this.error=a)}else e=m;this.exports=e;if(this.map.isDefine&&!this.ignore&&(o[c]=e,g.onResourceLoad))g.onResourceLoad(h,this.map,this.depMaps);delete l[c];this.defined=!0}this.defining=!1;if(this.defined&&!this.defineEmitted)this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=j(a.prefix);this.depMaps.push(d);q(d,"defined",r(this,function(e){var m,
d;d=this.map.name;var x=this.map.parentMap?this.map.parentMap.name:null,i=h.makeRequire(a.parentMap,{enableBuildCallback:!0,skipMap:!0});if(this.map.unnormalized){if(e.normalize&&(d=e.normalize(d,function(a){return c(a,x,!0)})||""),e=j(a.prefix+"!"+d,this.map.parentMap),q(e,"defined",r(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),d=l[e.id]){this.depMaps.push(e);if(this.events.error)d.on("error",r(this,function(a){this.emit("error",a)}));d.enable()}}else m=r(this,
function(a){this.init([],function(){return a},null,{enabled:!0})}),m.error=r(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];A(l,function(a){a.map.id.indexOf(b+"_unnormalized")===0&&delete l[a.map.id]});z(a)}),m.fromText=r(this,function(b,e){var f=a.name,c=j(f),d=J;e&&(b=e);d&&(J=!1);n(c);try{g.exec(b)}catch(x){throw Error("fromText eval for "+f+" failed: "+x);}d&&(J=!0);this.depMaps.push(c);h.completeLoad(f);i([f],m)}),e.load(a.name,i,m,k)}));h.enable(d,this);this.pluginMaps[d.id]=
d},enable:function(){this.enabling=this.enabled=!0;t(this.depMaps,r(this,function(a,b){var c,e;if(typeof a==="string"){a=j(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=L[a.id]){this.depExports[b]=c(this);return}this.depCount+=1;q(a,"defined",r(this,function(a){this.defineDep(b,a);this.check()}));this.errback&&q(a,"error",this.errback)}c=a.id;e=l[c];!L[c]&&e&&!e.enabled&&h.enable(a,this)}));A(this.pluginMaps,r(this,function(a){var b=l[a.id];b&&!b.enabled&&
h.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){t(this.events[a],function(a){a(b)});a==="error"&&delete this.events[a]}};h={config:k,contextName:b,registry:l,defined:o,urlFetched:Q,defQueue:C,Module:U,makeModuleMap:j,nextTick:g.nextTick,configure:function(a){a.baseUrl&&a.baseUrl.charAt(a.baseUrl.length-1)!=="/"&&(a.baseUrl+="/");var b=k.pkgs,c=k.shim,e={paths:!0,config:!0,map:!0};A(a,function(a,b){e[b]?
b==="map"?O(k[b],a,!0,!0):O(k[b],a,!0):k[b]=a});if(a.shim)A(a.shim,function(a,b){E(a)&&(a={deps:a});if(a.exports&&!a.exportsFn)a.exportsFn=h.makeShimExports(a);c[b]=a}),k.shim=c;if(a.packages)t(a.packages,function(a){a=typeof a==="string"?{name:a}:a;b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(ea,"").replace($,"")}}),k.pkgs=b;A(l,function(a,b){if(!a.inited&&!a.map.unnormalized)a.map=j(b)});if(a.deps||a.callback)h.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;
a.init&&(b=a.init.apply(W,arguments));return b||X(a.exports)}},makeRequire:function(a,f){function d(e,c,i){var k,p;if(f.enableBuildCallback&&c&&D(c))c.__requireJsBuild=!0;if(typeof e==="string"){if(D(c))return z(G("requireargs","Invalid require call"),i);if(a&&L[e])return L[e](l[a.id]);if(g.get)return g.get(h,e,a);k=j(e,a,!1,!0);k=k.id;return!F.call(o,k)?z(G("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+b+(a?"":". Use require([])"))):o[k]}I();h.nextTick(function(){I();p=
n(j(null,a));p.skipMap=f.skipMap;p.init(e,c,i,{enabled:!0});w()});return d}f=f||{};O(d,{isBrowser:v,toUrl:function(b){var d=b.lastIndexOf("."),f=null;d!==-1&&(f=b.substring(d,b.length),b=b.substring(0,d));return h.nameToUrl(c(b,a&&a.id,!0),f)},defined:function(b){b=j(b,a,!1,!0).id;return F.call(o,b)},specified:function(b){b=j(b,a,!1,!0).id;return F.call(o,b)||F.call(l,b)}});if(!a)d.undef=function(b){s();var c=j(b,a,!0),d=l[b];delete o[b];delete Q[c.url];delete V[b];if(d){if(d.events.defined)V[b]=
d.events;delete l[b]}};return d},enable:function(a){l[a.id]&&n(a).enable()},completeLoad:function(a){var b,c,d=k.shim[a]||{},g=d.exports;for(s();C.length;){c=C.shift();if(c[0]===null){c[0]=a;if(b)break;b=!0}else c[0]===a&&(b=!0);y(c)}c=l[a];if(!b&&!o[a]&&c&&!c.inited)if(k.enforceDefine&&(!g||!X(g)))if(p(a))return;else return z(G("nodefine","No define call for "+a,null,[a]));else y([a,d.deps||[],d.exportsFn]);w()},nameToUrl:function(a,b){var c,d,i,h,j,l;if(g.jsExtRegExp.test(a))h=a+(b||"");else{c=
k.paths;d=k.pkgs;h=a.split("/");for(j=h.length;j>0;j-=1)if(l=h.slice(0,j).join("/"),i=d[l],l=c[l]){E(l)&&(l=l[0]);h.splice(0,j,l);break}else if(i){c=a===i.name?i.location+"/"+i.main:i.location;h.splice(0,j,c);break}h=h.join("/");h+=b||(/\?/.test(h)?"":".js");h=(h.charAt(0)==="/"||h.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+h}return k.urlArgs?h+((h.indexOf("?")===-1?"?":"&")+k.urlArgs):h},load:function(a,b){g.load(h,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if(a.type===
"load"||ga.test((a.currentTarget||a.srcElement).readyState))H=null,a=B(a),h.completeLoad(a.id)},onScriptError:function(a){var b=B(a);if(!p(b.id))return z(G("scripterror","Script error",a,[b.id]))}};h.require=h.makeRequire();return h}};g({});t(["toUrl","undef","defined","specified"],function(b){g[b]=function(){var c=w._;return c.require[b].apply(c,arguments)}});if(v&&(u=s.head=document.getElementsByTagName("head")[0],y=document.getElementsByTagName("base")[0]))u=s.head=y.parentNode;g.onError=function(b){throw b;
};g.load=function(b,c,d){var g=b&&b.config||{},i;if(v)return i=g.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=g.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("data-requirecontext",b.contextName),i.setAttribute("data-requiremodule",c),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!R?(J=!0,i.attachEvent("onreadystatechange",b.onScriptLoad)):(i.addEventListener("load",
b.onScriptLoad,!1),i.addEventListener("error",b.onScriptError,!1)),i.src=d,I=i,y?u.insertBefore(i,y):u.appendChild(i),I=null,i;else aa&&(importScripts(d),b.completeLoad(c))};v&&N(document.getElementsByTagName("script"),function(b){if(!u)u=b.parentNode;if(q=b.getAttribute("data-main")){if(!n.baseUrl)B=q.split("/"),Y=B.pop(),Z=B.length?B.join("/")+"/":"./",n.baseUrl=Z,q=Y;q=q.replace($,"");n.deps=n.deps?n.deps.concat(q):[q];return!0}});define=function(b,c,d){var g,i;typeof b!=="string"&&(d=c,c=b,b=
null);E(c)||(d=c,c=[]);!c.length&&D(d)&&d.length&&(d.toString().replace(ca,"").replace(da,function(b,d){c.push(d)}),c=(d.length===1?["require"]:["require","exports","module"]).concat(c));if(J&&(g=I||ba()))b||(b=g.getAttribute("data-requiremodule")),i=w[g.getAttribute("data-requirecontext")];(i?i.defQueue:P).push([b,c,d])};define.amd={jQuery:!0};g.exec=function(b){return eval(b)};g(n)}})(this);
</script>
<script>
define("core/controller",[],function(){function e(e){return n.key(e,1)}function t(e){return n.key(e,0)}function r(e){this.state={},this.config=e,this.keycode={},this.child=new Array,this.sync=!1,this.buf=new Array,this.key=function(e,t){var n=0;for(var r in this.config)if(this.keycode[r]==e.keyCode){if(this.sync===!1){if(this.child)for(var i in this.child)this.child[i].key(r,t);this.state[r]=t}else this.buf.push([r,t]);n=1;break}return n},this.clear_states=function(){for(var e in this.config)this.state[e]=0},this.fetch=function(){for(var e in this.buf){var t=this.buf[e][0],n=this.buf[e][1];if(this.child)for(var r in this.child)this.child[r].key(t,n);this.state[t]=n}this.buf=[]},this.flush=function(){this.buf=[]},n.child.push(this),this.clear_states();for(var t in this.config)this.keycode[t]=r.keyname_to_keycode(this.config[t])}var n=function(){document.addEventListener?(document.addEventListener("keydown",e,!0),document.addEventListener("keyup",t,!0)):document.attachEvent&&(document.attachEvent("keydown",e),document.attachEvent("keyup",t));var n=new Object;return n.child=[],n.key=function(e,t){e||(e=window.event);for(var n in this.child)if(this.child[n].key(e,t))break},n}();return r.keyname_to_keycode=function(e){var t;if(e.length==1){var n=e.charCodeAt(0);if(n>="a".charCodeAt(0)&&n<="z".charCodeAt(0)||n>="A".charCodeAt(0)&&n<="Z".charCodeAt(0))e=e.toUpperCase(),t=e.charCodeAt(0);else if(n>="0".charCodeAt(0)&&n<="9".charCodeAt(0))t=e.charCodeAt(0);else switch(e){case"`":t=192;break;case"-":t=189;break;case"=":t=187;break;case"[":t=219;break;case"]":t=221;break;case"\\":t=220;break;case";":t=186;break;case"'":t=222;break;case",":t=188;break;case".":t=190;break;case"/":t=191;break;case" ":t=32}}else switch(e){case"ctrl":t=17;break;case"up":t=38;break;case"down":t=40;break;case"left":t=37;break;case"right":t=39}return t},r.keycode_to_keyname=function(e){return e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?String.fromCharCode(e).toLowerCase():""+e},r}),define("core/css",[],function(){var e=!1;return{load:function(t,n,r,i){e?r(!1):(e=!0,embed_css=function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),r=document.createTextNode(e);n.type="text/css",n.styleSheet?n.styleSheet.cssText=r.nodeValue:n.appendChild(r),t.appendChild(n)},n(["cssout"],function(e){embed_css(e.content),r(!0)}))},pluginBuilder:"./css-build"}}),define("cssout",{content:".F_sprite { position:absolute; overflow:hidden; width:10px; height:10px; } .F_sprite_img { position:absolute; } .canvas { position:relative; width:800px; /*height:577px;*/ height:300px; border:1px solid #000; } .page { position: absolute; left: 0px; top: 0px; border: 1px solid #000; z-index: 10000; } "}),define("core/support",[],function(){var e={},t=navigator.userAgent.toLowerCase(),n=/(webkit)[ \/]([\w.]+)/.exec(t)||/(o)pera(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(ms)ie ([\w.]+)/.exec(t)||/(moz)illa(?:.*? rv:([\w.]+))?/.exec(t)||[],r=/iPad|iPod|iPhone|Android|webOS|IEMobile/i.exec(t);return e.mobile=r?r[0]:undefined,e.prefix=n[1]||n[0],e.prefix==="moz"&&(e.prefix="Moz"),e.prefix==="o"&&(e.prefix="O"),n[2]&&(e.versionName=n[2],e.version=+n[2].split(".")[0]),function(){e.css2dtransform=undefined,e.css3dtransform=undefined;var t=document.createElement("p"),n,r,i={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.getElementsByTagName("body")[0].appendChild(t);for(n in i)if(t.style[n]!==undefined){var s;s="matrix(1, 0, 0, 1, 0, 0)",t.style[n]=s,s===window.getComputedStyle(t).getPropertyValue(i[n])&&(e.css2dtransform=n),s="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",t.style[n]=s,s===window.getComputedStyle(t).getPropertyValue(i[n])&&(e.css3dtransform=n)}t.parentNode.removeChild(t)}(),function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e}),define("core/sprite",["core/css!core/style.css","core/support"],function(e,t){function r(e){this.ID=n,n++,this.el=document.createElement("div"),this.el.setAttribute("class","F_sprite"),e.canvas.appendChild(this.el),this.img={},this.cur_img=null,this.set_wh(e.wh);if(e.img)for(var r in e.img)this.add_img(e.img[r],r);t.css2dtransform&&(this.el.style.left="0px",this.el.style.top="0px")}var n=0;return r.prototype._config={},r.prototype.config=function(e){if(!e)return r.prototype._config;r.prototype._config=e},r.prototype.set_wh=function(e){this.el.style.width=e.x+"px",this.el.style.height=e.y+"px"},t.css2dtransform?r.prototype.set_xy=function(e){this.el.style[t.css2dtransform]="translate("+e.x+"px,"+e.y+"px) "}:r.prototype.set_xy=function(e){this.el.style.left=e.x+"px",this.el.style.top=e.y+"px"},r.prototype.set_z=function(e){this.el.style.zIndex=Math.round(e)},r.prototype.add_img=function(e,t){var n="";r.prototype._config.baseUrl&&(n=r.prototype._config.baseUrl);var i=document.createElement("img");return i.setAttribute("class","F_sprite_img"),i.src=n+e,i.onload=function(){this.naturalWidth||(this.naturalWidth=this.width),this.naturalHeight||(this.naturalHeight=this.height),this.onload=null},this.el.appendChild(i),this.img[t]=i,this.switch_img(t),i},r.prototype.switch_img=function(e){var t,n;for(var r in this.img)if(this.img[r].style.visibility=="visible"){t=this.img[r].style.left,n=this.img[r].style.top;break}for(var r in this.img)r==e?(this.img[r].style.left=t,this.img[r].style.top=n,this.img[r].style.visibility="visible"):this.img[r].style.visibility="hidden";this.cur_img=e},r.prototype.set_img_xy=function(e){this.img[this.cur_img].style.left=e.x+"px",this.img[this.cur_img].style.top=e.y+"px"},r.prototype.remove=function(){this.el.parentNode.removeChild(this.el),this.removed=!0},r.prototype.attach=function(){this.removed&&config.canvas.appendChild(this.el)},r.prototype.hide=function(){this.el.style.display="none"},r.prototype.show=function(){this.el.style.display=""},r}),define("loader_depend",{object:[{id:30,type:"character",file:"data/bandit"},{id:100,type:"lightweapon",file:"data/weapon0"},{id:101,type:"lightweapon",file:"data/weapon2"},{id:150,type:"heavyweapon",file:"data/weapon1"},{id:300,type:"effects",file:"data/effect0"},{id:301,type:"effects",file:"data/effect1"}],file_editing:{},background:[],id:"100~199 drop weapon"}),define("LF/loader",[],function(){var e=!1,t;return{load:function(n,r,i,s){s.isBuild&&console.log("why am I here?"),e?i(t):(e=!0,r(["loader_gamedata"],function(e){t=e,i(t)}))},pluginBuilder:"./loader-build"}}),define("loader_gamedata",{object:{character:[{id:30,type:"character",data:{bmp:{name:"Bandit",head:"sprite\\sys\\bandit_f.bmp",small:"sprite\\sys\\bandit_s.bmp",file:[{"file(0-69)":"sprite/bandit_0.png",w:79,h:79,row:10,col:7},{"file(70-139)":"sprite/bandit_1.png",w:79,h:79,row:10,col:7}],walking_frame_rate:3,walking_speed:4,walking_speedz:2,running_frame_rate:3,running_speed:8,running_speedz:1.3,heavy_walking_speed:3,heavy_walking_speedz:1.5,heavy_running_speed:5,heavy_running_speedz:.8,jump_height:-16.299999,jump_distance:8,jump_distancez:3,dash_height:-11,dash_distance:15,dash_distancez:3.75,rowing_height:-2,rowing_distance:5},frame:{0:{name:"standing",pic:0,state:0,wait:5,next:1,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:43,y:38},wpoint:{kind:1,x:23,y:46,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:21,y:18,w:43,h:62}},1:{name:"standing",pic:1,state:0,wait:5,next:2,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:43,y:38},wpoint:{kind:1,x:22,y:47,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:21,y:18,w:43,h:62}},2:{name:"standing",pic:2,state:0,wait:5,next:3,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:43,y:38},wpoint:{kind:1,x:22,y:47,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:21,y:18,w:43,h:62}},3:{name:"standing",pic:3,state:0,wait:5,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:43,y:40},wpoint:{kind:1,x:22,y:48,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:21,y:18,w:43,h:62}},5:{name:"walking",pic:4,state:1,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:43,y:37},wpoint:{kind:1,x:25,y:48,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:1,x:40,y:16,w:25,h:65,catchingact:[120,120],caughtact:[130,130]},bdy:{kind:0,x:28,y:15,w:27,h:65}},6:{name:"walking",pic:5,state:1,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:38,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:42,y:37},wpoint:{kind:1,x:22,y:46,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:1,x:40,y:16,w:25,h:65,catchingact:[120,120],caughtact:[130,130]},bdy:{kind:0,x:28,y:15,w:27,h:65}},7:{name:"walking",pic:6,state:1,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:42,y:37},wpoint:{kind:1,x:22,y:45,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:1,x:40,y:16,w:25,h:65,catchingact:[120,120],caughtact:[130,130]},bdy:{kind:0,x:28,y:15,w:27,h:65}},8:{name:"walking",pic:7,state:1,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:42,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:45,y:37},wpoint:{kind:1,x:24,y:44,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:1,x:40,y:16,w:25,h:65,catchingact:[120,120],caughtact:[130,130]},bdy:{kind:0,x:28,y:15,w:27,h:65}},9:{name:"running",pic:20,state:2,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\003.wav",bpoint:{x:47,y:40},wpoint:{kind:1,x:25,y:41,weaponact:25,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:25,y:19,w:38,h:60}},10:{name:"running",pic:21,state:2,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:49,y:40},wpoint:{kind:1,x:46,y:51,weaponact:22,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:25,y:19,w:38,h:60}},11:{name:"running",pic:22,state:2,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\004.wav",bpoint:{x:49,y:40},wpoint:{kind:1,x:60,y:44,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:25,y:19,w:38,h:60}},12:{name:"heavy_obj_walk",pic:23,state:1,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:43,y:38},wpoint:{kind:1,x:42,y:23,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:15,w:28,h:64}},13:{name:"heavy_obj_walk",pic:24,state:1,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:38,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:42,y:38},wpoint:{kind:1,x:41,y:22,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:15,w:28,h:64}},14:{name:"heavy_obj_walk",pic:25,state:1,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:43,y:38},wpoint:{kind:1,x:42,y:22,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:15,w:28,h:64}},15:{name:"heavy_obj_walk",pic:26,state:1,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:41,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:45,y:38},wpoint:{kind:1,x:45,y:22,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:15,w:28,h:64}},16:{name:"heavy_obj_run",pic:125,state:2,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\003.wav",bpoint:{x:41,y:36},wpoint:{kind:1,x:40,y:22,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:15,w:28,h:64}},17:{name:"heavy_obj_run",pic:126,state:2,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:40,y:36},wpoint:{kind:1,x:39,y:21,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:15,w:28,h:64}},18:{name:"heavy_obj_run",pic:127,state:2,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\004.wav",bpoint:{x:41,y:36},wpoint:{kind:1,x:40,y:21,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:15,w:28,h:64}},19:{name:"heavy_stop_run",pic:128,state:15,wait:7,next:999,dvx:2,dvy:0,dvz:0,centerx:34,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\009.wav",bpoint:{x:30,y:42},wpoint:{kind:1,x:22,y:25,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:15,w:28,h:64}},20:{name:"normal_weapon_atck",pic:70,state:3,wait:1,next:21,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:25,y:42,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:27,y:20,w:32,h:60}},21:{name:"normal_weapon_atck",pic:71,state:3,wait:1,next:22,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\008.wav",wpoint:{kind:1,x:28,y:22,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:30,y:19,w:28,h:61}},22:{name:"normal_weapon_atck",pic:72,state:3,wait:1,next:23,dvx:0,dvy:0,dvz:0,centerx:16,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:50,y:53,weaponact:23,attacking:1,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:17,y:21,w:23,h:59},{kind:0,x:4,y:64,w:14,h:15},{kind:0,x:36,y:46,w:20,h:14}]},23:{name:"normal_weapon_atck",pic:73,state:3,wait:1,next:999,dvx:0,dvy:0,dvz:0,centerx:40,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:73,y:58,weaponact:24,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:41,y:19,w:29,h:61},{kind:0,x:25,y:61,w:17,h:18}]},25:{name:"normal_weapon_atck",pic:74,state:3,wait:1,next:26,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:51,y:45,weaponact:34,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:16,w:29,h:63}},26:{name:"normal_weapon_atck",pic:75,state:3,wait:1,next:27,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\008.wav",wpoint:{kind:1,x:44,y:42,weaponact:32,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:29,y:16,w:29,h:63}},27:{name:"normal_weapon_atck",pic:76,state:3,wait:1,next:28,dvx:0,dvy:0,dvz:0,centerx:36,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:78,y:55,weaponact:24,attacking:1,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:41,y:21,w:26,h:58},{kind:0,x:27,y:61,w:18,h:17}]},28:{name:"normal_weapon_atck",pic:77,state:3,wait:1,next:999,dvx:0,dvy:0,dvz:0,centerx:22,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:10,y:52,weaponact:25,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:10,y:23,w:31,h:55}},30:{name:"jump_weapon_atck",pic:80,state:3,wait:1,next:31,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:25,y:19,weaponact:30,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:27,y:17,w:39,h:56}},31:{name:"jump_weapon_atck",pic:81,state:3,wait:1,next:32,dvx:0,dvy:0,dvz:0,centerx:19,centery:91,hit_a:0,hit_d:0,hit_j:0,sound:"data\\008.wav",wpoint:{kind:1,x:44,y:12,weaponact:33,attacking:2,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:11,y:32,w:33,h:43}},32:{name:"jump_weapon_atck",pic:82,state:3,wait:1,next:33,dvx:0,dvy:0,dvz:0,centerx:19,centery:91,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:58,y:49,weaponact:24,attacking:2,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:11,y:32,w:33,h:43}},33:{name:"jump_weapon_atck",pic:83,state:3,wait:4,next:999,dvx:0,dvy:0,dvz:0,centerx:19,centery:91,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:52,y:57,weaponact:25,attacking:2,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:11,y:32,w:33,h:43}},35:{name:"run_weapon_atck",pic:84,state:3,wait:1,next:36,dvx:6,dvy:0,dvz:0,centerx:40,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:31,y:14,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:28,y:16,w:34,h:64}},36:{name:"run_weapon_atck",pic:85,state:3,wait:1,next:37,dvx:4,dvy:0,dvz:0,centerx:26,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\008.wav",wpoint:{kind:1,x:70,y:41,weaponact:22,attacking:3,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:29,y:38,w:51,h:20},{kind:0,x:9,y:54,w:45,h:26}]},37:{name:"run_weapon_atck",pic:86,state:3,wait:6,next:999,dvx:0,dvy:0,dvz:0,centerx:21,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:69,y:59,weaponact:24,attacking:3,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:28,y:16,w:34,h:64}},40:{name:"dash_weapon_atck",pic:90,state:3,wait:1,next:41,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:24,y:14,weaponact:30,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:25,y:15,w:40,h:53}},41:{name:"dash_weapon_atck",pic:91,state:3,wait:1,next:42,dvx:0,dvy:0,dvz:0,centerx:21,centery:89,hit_a:0,hit_d:0,hit_j:0,sound:"data\\008.wav",wpoint:{kind:1,x:45,y:12,weaponact:33,attacking:4,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:8,y:32,w:33,h:45}},42:{name:"dash_weapon_atck",pic:92,state:3,wait:1,next:43,dvx:0,dvy:0,dvz:0,centerx:21,centery:89,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:59,y:50,weaponact:24,attacking:4,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:8,y:32,w:33,h:45}},43:{name:"dash_weapon_atck",pic:93,state:3,wait:8,next:999,dvx:0,dvy:0,dvz:0,centerx:21,centery:89,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:50,y:55,weaponact:25,attacking:4,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:8,y:32,w:33,h:45}},45:{name:"light_weapon_thw",pic:94,state:15,wait:6,next:46,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:11,y:42,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:25,y:22,w:35,h:57},{kind:0,x:10,y:40,w:20,h:13}]},46:{name:"light_weapon_thw",pic:95,state:15,wait:1,next:47,dvx:0,dvy:0,dvz:0,centerx:37,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\008.wav",wpoint:{kind:1,x:44,y:24,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:24,y:22,w:32,h:57}},47:{name:"light_weapon_thw",pic:96,state:15,wait:9,next:999,dvx:0,dvy:0,dvz:0,centerx:25,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:102,y:60,weaponact:35,attacking:0,cover:0,dvx:14,dvy:-4,dvz:3},bdy:[{kind:0,x:10,y:38,w:54,h:21},{kind:0,x:26,y:55,w:32,h:26}]},50:{name:"heavy_weapon_thw",pic:27,state:15,wait:6,next:51,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:16,y:32,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:28,y:19,w:30,h:62}},51:{name:"heavy_weapon_thw",pic:28,state:15,wait:10,next:999,dvx:0,dvy:0,dvz:0,centerx:34,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\007.wav",wpoint:{kind:1,x:93,y:37,weaponact:10,attacking:0,cover:0,dvx:8,dvy:-4,dvz:2},bdy:[{kind:0,x:8,y:39,w:61,h:23},{kind:0,x:19,y:56,w:30,h:24}]},52:{name:"sky_lgt_wp_thw",pic:97,state:15,wait:6,next:53,dvx:0,dvy:0,dvz:0,centerx:41,centery:68,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:16,y:30,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:22,y:10,w:40,h:52}},53:{name:"sky_lgt_wp_thw",pic:98,state:15,wait:1,next:54,dvx:0,dvy:-2,dvz:0,centerx:35,centery:63,hit_a:0,hit_d:0,hit_j:0,sound:"data\\008.wav",wpoint:{kind:1,x:50,y:12,weaponact:34,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:35,y:10,w:36,h:23},{kind:0,x:15,y:18,w:30,h:43}]},54:{name:"sky_lgt_wp_thw",pic:99,state:15,wait:9,next:999,dvx:0,dvy:0,dvz:0,centerx:21,centery:62,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:75,y:65,weaponact:23,attacking:0,cover:0,dvx:12,dvy:8,dvz:3},bdy:[{kind:0,x:22,y:15,w:38,h:38},{kind:0,x:3,y:37,w:34,h:26}]},55:{name:"weapon_drink",pic:132,state:17,wait:3,next:56,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:999,hit_j:0,sound:"data\\042.wav",wpoint:{kind:1,x:53,y:21,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:25,y:26,w:37,h:53}},56:{name:"weapon_drink",pic:133,state:17,wait:3,next:57,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:999,hit_j:0,wpoint:{kind:1,x:52,y:21,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:25,y:26,w:37,h:53}},57:{name:"weapon_drink",pic:134,state:17,wait:3,next:58,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:999,hit_j:0,wpoint:{kind:1,x:51,y:21,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:25,y:26,w:37,h:53}},58:{name:"weapon_drink",pic:133,state:17,wait:3,next:55,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:999,hit_j:0,wpoint:{kind:1,x:52,y:21,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:25,y:26,w:37,h:53}},60:{name:"punch",pic:10,state:3,wait:2,next:61,dvx:1,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,itr:{kind:2,x:26,y:58,w:37,h:23,vrest:1},bdy:[{kind:0,x:30,y:18,w:28,h:60},{kind:0,x:23,y:35,w:37,h:24}]},61:{name:"punch",pic:11,state:3,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\007.wav",itr:{kind:0,x:49,y:33,w:30,h:16,dvx:2,bdefend:16,injury:20},bdy:[{kind:0,x:39,y:19,w:21,h:61},{kind:0,x:51,y:34,w:26,h:16}]},65:{name:"punch",pic:12,state:3,wait:2,next:66,dvx:1,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,itr:{kind:2,x:26,y:58,w:37,h:23,vrest:1},bdy:{kind:0,x:27,y:17,w:31,h:63}},66:{name:"punch",pic:13,state:3,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\007.wav",itr:{kind:0,x:45,y:34,w:33,h:14,dvx:2,bdefend:16,injury:20},bdy:[{kind:0,x:28,y:17,w:29,h:63},{kind:0,x:45,y:37,w:32,h:11}]},70:{name:"super_punch",pic:37,state:3,wait:2,next:71,dvx:0,dvy:0,dvz:0,centerx:48,centery:79,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:22,y:14,w:30,h:65}},71:{name:"super_punch",pic:38,state:3,wait:2,next:72,dvx:4,dvy:0,dvz:0,centerx:41,centery:79,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:17,y:13,w:31,h:66}},72:{name:"super_punch",pic:39,state:3,wait:2,next:73,dvx:0,dvy:0,dvz:0,centerx:30,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\007.wav",itr:{kind:0,x:35,y:26,w:44,h:17,dvx:13,dvy:-6,fall:70,arest:15,bdefend:60,injury:50},bdy:[{kind:0,x:17,y:31,w:32,h:48},{kind:0,x:43,y:35,w:28,h:18}]},73:{name:"super_punch",pic:104,state:3,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:30,centery:79,hit_a:0,hit_d:0,hit_j:0,bdy:[{kind:0,x:17,y:31,w:32,h:48},{kind:0,x:43,y:35,w:28,h:18}]},80:{name:"jump_attack",pic:14,state:3,wait:2,next:81,dvx:0,dvy:0,dvz:0,centerx:39,centery:70,hit_a:0,hit_d:0,hit_j:0,sound:"data\\007.wav",bdy:{kind:0,x:20,y:18,w:34,h:61}},81:{name:"jump_attack",pic:15,state:3,wait:6,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:70,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:37,y:30,w:36,h:20,dvx:2,arest:15,bdefend:16,injury:35},bdy:[{kind:0,x:22,y:19,w:32,h:60},{kind:0,x:45,y:20,w:28,h:27}]},85:{name:"run_attack",pic:102,state:3,wait:4,next:86,dvx:6,dvy:0,dvz:0,centerx:31,centery:79,hit_a:0,hit_d:0,hit_j:0,bdy:[{kind:0,x:19,y:24,w:35,h:54},{kind:0,x:10,y:36,w:27,h:15}]},86:{name:"run_attack",pic:103,state:3,wait:2,next:87,dvx:4,dvy:0,dvz:0,centerx:19,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\007.wav",itr:{kind:0,x:19,y:37,w:61,h:17,dvx:10,fall:70,arest:15,bdefend:16,injury:50},bdy:[{kind:0,x:24,y:36,w:55,h:19},{kind:0,x:8,y:51,w:38,h:27}]},87:{name:"run_attack",pic:104,state:3,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:14,centery:79,hit_a:0,hit_d:0,hit_j:0,bdy:[{kind:0,x:18,y:36,w:39,h:24},{kind:0,x:2,y:57,w:41,h:22}]},90:{name:"dash_attack",pic:106,state:15,wait:3,next:91,dvx:0,dvy:0,dvz:0,centerx:38,centery:73,hit_a:0,hit_d:0,hit_j:0,bdy:[{kind:0,x:24,y:18,w:25,h:55},{kind:0,x:13,y:36,w:52,h:18}]},91:{name:"dash_attack",pic:107,state:15,wait:20,next:999,dvx:0,dvy:0,dvz:0,centerx:31,centery:68,hit_a:0,hit_d:0,hit_j:0,sound:"data\\007.wav",itr:{kind:0,x:27,y:38,w:53,h:23,dvx:12,fall:70,arest:20,bdefend:60,injury:70},bdy:[{kind:0,x:7,y:19,w:37,h:45},{kind:0,x:22,y:36,w:50,h:18}]},95:{name:"dash_defend",pic:111,state:7,wait:2,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:21,y:27,weaponact:30,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:14,y:19,w:28,h:36},{kind:0,x:28,y:37,w:24,h:34}]},100:{name:"rowing",pic:66,state:6,wait:2,next:101,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\017.wav",wpoint:{kind:1,x:21,y:44,weaponact:22,attacking:0,cover:1,dvx:0,dvy:0,dvz:0}},101:{name:"rowing",pic:65,state:6,wait:6,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:18,y:70,weaponact:24,attacking:0,cover:1,dvx:0,dvy:0,dvz:0}},102:{name:"rowing",pic:58,state:6,wait:2,next:103,dvx:7,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:42,y:75,weaponact:22,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},itr:{kind:7,x:36,y:54,w:13,h:25,vrest:1}},103:{name:"rowing",pic:59,state:6,wait:2,next:104,dvx:7,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:42,y:45,weaponact:31,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},itr:{kind:7,x:36,y:54,w:13,h:25,vrest:1}},104:{name:"rowing",pic:49,state:6,wait:2,next:105,dvx:7,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:30,y:59,weaponact:25,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},itr:{kind:7,x:36,y:54,w:13,h:25,vrest:1}},105:{name:"rowing",pic:58,state:6,wait:2,next:219,dvx:7,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:44,y:74,weaponact:22,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},itr:{kind:7,x:36,y:54,w:13,h:25,vrest:1}},106:{name:"rowing",pic:59,state:6,wait:2,next:219,dvx:7,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:42,y:48,weaponact:30,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},itr:{kind:7,x:36,y:54,w:13,h:25,vrest:1}},107:{name:"rowing",pic:49,state:6,wait:2,next:219,dvx:7,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:32,y:59,weaponact:25,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},itr:{kind:7,x:36,y:54,w:13,h:25,vrest:1}},108:{name:"rowing",pic:117,state:6,wait:3,next:109,dvx:0,dvy:0,dvz:0,centerx:45,centery:62,hit_a:0,hit_d:0,hit_j:0,sound:"data\\017.wav",wpoint:{kind:1,x:39,y:37,weaponact:35,attacking:0,cover:1,dvx:0,dvy:0,dvz:0}},109:{name:"rowing",pic:118,state:6,wait:6,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:17,y:38,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},110:{name:"defend",pic:56,state:7,wait:12,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:39,y:46,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:20,y:19,w:38,h:60}},111:{name:"defend",pic:57,state:7,wait:0,next:110,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:36,y:46,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:16,y:19,w:42,h:60}},112:{name:"broken_defend",pic:46,state:8,wait:2,next:113,dvx:-2,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:8,y:28,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:6,x:-9,y:16,w:85,h:65,vrest:1},bdy:{kind:0,x:5,y:17,w:64,h:65}},113:{name:"broken_defend",pic:47,state:8,wait:2,next:114,dvx:-2,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:12,y:45,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:6,x:-9,y:16,w:85,h:65,vrest:1},bdy:{kind:0,x:5,y:17,w:64,h:65}},114:{name:"broken_defend",pic:48,state:8,wait:2,next:999,dvx:-2,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:22,y:52,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:6,x:-9,y:16,w:85,h:65,vrest:1},bdy:{kind:0,x:5,y:17,w:64,h:65}},115:{name:"picking_light",pic:36,state:15,wait:5,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\009.wav",wpoint:{kind:1,x:38,y:76,weaponact:24,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:24,y:43,w:33,h:37}},116:{name:"picking_heavy",pic:36,state:15,wait:5,next:117,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\009.wav",wpoint:{kind:1,x:42,y:79,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:24,y:43,w:33,h:37}},117:{name:"picking_heavy",pic:36,state:15,wait:5,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:42,y:75,weaponact:10,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:24,y:43,w:33,h:37}},120:{name:"catching",pic:51,state:9,wait:5,next:121,dvx:0,dvy:0,dvz:0,centerx:36,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\015.wav",cpoint:{kind:1,x:67,y:39,vaction:131,throwvz:-842150451,hurtable:1,throwinjury:-842150451,decrease:7},wpoint:{kind:1,x:54,y:50,weaponact:20,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:19,y:15,w:28,h:65}},121:{name:"catching",pic:50,state:9,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:1,x:61,y:39,vaction:130,aaction:122,taction:-232,throwvz:-842150451,hurtable:1,throwinjury:-842150451,decrease:-7},wpoint:{kind:1,x:60,y:42,weaponact:35,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:19,y:15,w:28,h:65}},122:{name:"catching",pic:51,state:9,wait:5,next:123,dvx:0,dvy:0,dvz:0,centerx:38,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:1,x:61,y:39,vaction:130,throwvz:-842150451,hurtable:1,throwinjury:-842150451,decrease:7},wpoint:{kind:1,x:54,y:48,weaponact:20,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:19,y:15,w:28,h:65}},123:{name:"catching",pic:52,state:9,wait:3,next:121,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\014.wav",cpoint:{kind:1,x:58,y:38,injury:15,vaction:132,throwvz:-842150451,hurtable:1,throwinjury:-842150451,decrease:3},wpoint:{kind:1,x:57,y:46,weaponact:35,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:19,y:15,w:28,h:65}},130:{name:"picked_caught",pic:53,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:41,y:39,fronthurtact:132,backhurtact:131},wpoint:{kind:1,x:31,y:56,weaponact:30,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:26,y:14,w:28,h:66}},131:{name:"picked_caught",pic:54,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:41,y:39,fronthurtact:132,backhurtact:132},wpoint:{kind:1,x:26,y:54,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:26,y:14,w:28,h:66}},132:{name:"picked_caught",pic:55,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:41,y:39,fronthurtact:131,backhurtact:131},wpoint:{kind:1,x:39,y:51,weaponact:30,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:26,y:14,w:28,h:66}},133:{name:"picked_caught",pic:30,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:33,y:36},wpoint:{kind:1,x:35,y:46,weaponact:22,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},134:{name:"picked_caught",pic:31,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:37,y:28},wpoint:{kind:1,x:42,y:32,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},135:{name:"picked_caught",pic:32,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:31,y:22},wpoint:{kind:1,x:37,y:43,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},136:{name:"picked_caught",pic:33,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:27,y:46},wpoint:{kind:1,x:38,y:39,weaponact:33,attacking:0,cover:1,dvx:0,dvy:0,dvz:0}},137:{name:"picked_caught",pic:34,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:71,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:33,y:68},wpoint:{kind:1,x:33,y:75,weaponact:32,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},138:{name:"picked_caught",pic:35,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:34,y:54},wpoint:{kind:1,x:38,y:64,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},139:{name:"picked_caught",pic:40,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:40,y:36},wpoint:{kind:1,x:22,y:47,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},140:{name:"picked_caught",pic:41,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:36,y:38},wpoint:{kind:1,x:26,y:40,weaponact:20,attacking:0,cover:1,dvx:0,dvy:0,dvz:0}},141:{name:"picked_caught",pic:42,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:44,y:41},wpoint:{kind:1,x:27,y:37,weaponact:23,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},142:{name:"picked_caught",pic:43,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:46,y:51},wpoint:{kind:1,x:32,y:50,weaponact:26,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},143:{name:"picked_caught",pic:44,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:74,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:45,y:66},wpoint:{kind:1,x:30,y:74,weaponact:24,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},144:{name:"picked_caught",pic:45,state:10,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:2,x:42,y:55},wpoint:{kind:1,x:30,y:67,weaponact:25,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},180:{name:"falling",pic:30,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:39,y:46,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:4,x:21,y:14,w:29,h:44,dvx:2,fall:70,vrest:20,bdefend:10,injury:30},bdy:{kind:0,x:25,y:25,w:21,h:20}},181:{name:"falling",pic:31,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:43,y:30,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:4,x:15,y:11,w:42,h:26,dvx:2,fall:70,vrest:20,bdefend:10,injury:30},{kind:4,x:35,y:30,w:27,h:29,dvx:2,fall:70,vrest:20,bdefend:10,injury:30}],bdy:{kind:0,x:22,y:20,w:24,h:23}},182:{name:"falling",pic:32,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:38,y:43,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:4,x:13,y:18,w:46,h:26,dvx:2,fall:70,vrest:20,bdefend:10,injury:30},bdy:{kind:0,x:27,y:22,w:20,h:18}},183:{name:"falling",pic:33,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:40,y:40,weaponact:33,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},itr:[{kind:4,x:32,y:18,w:33,h:27,dvx:2,fall:70,vrest:20,bdefend:10,injury:30},{kind:4,x:10,y:38,w:38,h:21,dvx:2,fall:70,vrest:20,bdefend:10,injury:30}],bdy:{kind:0,x:22,y:30,w:27,h:21}},184:{name:"falling",pic:34,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:72,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:36,y:74,weaponact:32,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},185:{name:"falling",pic:35,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:37,y:64,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},186:{name:"falling",pic:40,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:21,y:45,weaponact:34,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:4,x:22,y:12,w:36,h:50,dvx:2,fall:70,vrest:20,bdefend:10,injury:30},bdy:{kind:0,x:31,y:24,w:25,h:23}},187:{name:"falling",pic:41,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:27,y:42,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:4,x:33,y:6,w:26,h:46,dvx:2,fall:70,vrest:20,bdefend:10,injury:30},{kind:4,x:26,y:43,w:21,h:29,dvx:2,fall:70,vrest:20,bdefend:10,injury:30}],bdy:{kind:0,x:28,y:27,w:24,h:26}},188:{name:"falling",pic:42,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:29,y:35,weaponact:22,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:4,x:14,y:29,w:58,h:23,dvx:2,fall:70,vrest:20,bdefend:10,injury:30},bdy:{kind:0,x:30,y:31,w:24,h:21}},189:{name:"falling",pic:43,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:31,y:50,weaponact:25,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:4,x:24,y:27,w:26,h:28,dvx:2,fall:70,vrest:20,bdefend:10,injury:30},{kind:4,x:37,y:45,w:31,h:28,dvx:2,fall:70,vrest:20,bdefend:10,injury:30}],bdy:{kind:0,x:30,y:39,w:23,h:21}},190:{name:"falling",pic:44,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:75,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:31,y:74,weaponact:24,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},191:{name:"falling",pic:45,state:12,wait:3,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:29,y:67,weaponact:25,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},200:{name:"ice",pic:105,state:15,wait:2,next:201,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:18,y:45,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:10,y:9,w:55,h:68}},201:{name:"ice",pic:115,state:13,wait:90,next:202,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:20,y:55,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:14,x:8,y:6,w:67,h:73,vrest:1},bdy:{kind:0,x:8,y:6,w:67,h:73}},202:{name:"ice",pic:105,state:15,wait:1,next:182,dvx:-4,dvy:-3,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:18,y:44,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:8,y:6,w:67,h:73}},203:{name:"fire",pic:100,state:18,wait:1,next:204,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:42,y:46,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:0,x:22,y:35,w:26,h:19,dvx:-6,dvy:-6,fall:70,vrest:10,bdefend:16,injury:30,effect:20},bdy:{kind:0,x:22,y:35,w:26,h:19}},204:{name:"fire",pic:101,state:18,wait:1,next:203,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:42,y:46,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:0,x:22,y:35,w:26,h:19,dvx:-6,dvy:-6,fall:70,vrest:10,bdefend:16,injury:30,effect:20},bdy:{kind:0,x:22,y:35,w:26,h:19}},205:{name:"fire",pic:110,state:18,wait:1,next:206,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:30,y:33,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:0,x:22,y:35,w:26,h:19,dvx:-6,dvy:-6,fall:70,vrest:10,bdefend:16,injury:30,effect:20},bdy:{kind:0,x:22,y:35,w:26,h:19}},206:{name:"fire",pic:111,state:18,wait:1,next:205,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:30,y:33,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:0,x:22,y:35,w:26,h:19,dvx:-6,dvy:-6,fall:70,vrest:10,bdefend:16,injury:30,effect:20},bdy:{kind:0,x:22,y:35,w:26,h:19}},207:{name:"tired",pic:69,state:15,wait:2,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:42,y:64,weaponact:22,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:44,y:28,w:22,h:37},{kind:0,x:28,y:47,w:28,h:35}]},210:{name:"jump",pic:60,state:4,wait:1,next:211,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:24,y:53,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:33,y:33,w:20,h:48},{kind:0,x:25,y:50,w:15,h:29}]},211:{name:"jump",pic:61,state:4,wait:1,next:212,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\017.wav",wpoint:{kind:1,x:23,y:54,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:15,y:41,w:48,h:20},{kind:0,x:25,y:55,w:30,h:27}]},212:{name:"jump",pic:62,state:4,wait:1,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:43,y:27},wpoint:{kind:1,x:25,y:37,weaponact:34,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:31,y:15,w:21,h:64},{kind:0,x:18,y:29,w:48,h:17}]},213:{name:"dash",pic:63,state:5,wait:8,next:216,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:58,y:32},wpoint:{kind:1,x:30,y:39,weaponact:25,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:46,y:18,w:22,h:25},{kind:0,x:28,y:29,w:21,h:33},{kind:0,x:13,y:54,w:18,h:17}]},214:{name:"dash",pic:64,state:5,wait:8,next:217,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:27,y:29},wpoint:{kind:1,x:34,y:41,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:18,y:14,w:19,h:27}},215:{name:"crouch",pic:60,state:15,wait:2,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\012.wav",wpoint:{kind:1,x:22,y:54,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:26,y:40,w:29,h:38}},216:{name:"dash",pic:112,state:5,wait:2,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:56,y:35},wpoint:{kind:1,x:24,y:37,weaponact:25,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:42,y:15,w:24,h:21},{kind:0,x:16,y:30,w:39,h:37}]},217:{name:"dash",pic:113,state:5,wait:2,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bpoint:{x:25,y:32},wpoint:{kind:1,x:31,y:50,weaponact:21,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:18,y:13,w:29,h:51}},218:{name:"stop_running",pic:114,state:15,wait:5,next:999,dvx:1,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\009.wav",bpoint:{x:35,y:40},wpoint:{kind:1,x:14,y:50,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:17,y:25,w:30,h:55},{kind:0,x:45,y:47,w:16,h:32}]},219:{name:"crouch2",pic:60,state:15,wait:2,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\012.wav",wpoint:{kind:1,x:23,y:53,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:26,y:36,w:29,h:44}},220:{name:"injured",pic:120,state:11,wait:2,next:221,dvx:0,dvy:0,dvz:0,centerx:47,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:57,y:48,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:47,y:23,w:23,h:54},{kind:0,x:29,y:41,w:20,h:37}]},221:{name:"injured",pic:121,state:11,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:44,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:56,y:51,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:46,y:23,w:21,h:56},{kind:0,x:30,y:40,w:17,h:41}]},222:{name:"injured",pic:123,state:11,wait:2,next:223,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:22,y:56,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:11,y:24,w:39,h:31},{kind:0,x:25,y:53,w:40,h:27}]},223:{name:"injured",pic:124,state:11,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:21,y:50,weaponact:20,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:12,y:23,w:40,h:37},{kind:0,x:27,y:56,w:36,h:24}]},224:{name:"injured",pic:130,state:11,wait:2,next:225,dvx:0,dvy:0,dvz:0,centerx:48,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:32,y:53,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:32,y:18,w:28,h:60},{kind:0,x:52,y:38,w:20,h:19}]},225:{name:"injured",pic:131,state:11,wait:3,next:999,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:27,y:51,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:24,y:18,w:35,h:63}},226:{name:"injured",pic:120,state:16,wait:6,next:227,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:58,y:49,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:6,x:6,y:12,w:85,h:68,vrest:1},bdy:{kind:0,x:27,y:22,w:42,h:58}},227:{name:"injured",pic:122,state:16,wait:6,next:228,dvx:0,dvy:0,dvz:0,centerx:37,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:56,y:51,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:6,x:6,y:12,w:85,h:68,vrest:1},bdy:{kind:0,x:28,y:24,w:39,h:57}},228:{name:"injured",pic:121,state:16,wait:6,next:229,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:56,y:51,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:6,x:6,y:12,w:85,h:68,vrest:1},bdy:{kind:0,x:28,y:23,w:37,h:58}},229:{name:"injured",pic:122,state:16,wait:6,next:999,dvx:0,dvy:0,dvz:0,centerx:37,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:55,y:51,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:6,x:6,y:12,w:85,h:68,vrest:1},bdy:{kind:0,x:29,y:26,w:37,h:53}},230:{name:"lying",pic:34,state:14,wait:30,next:219,dvx:0,dvy:0,dvz:0,centerx:39,centery:72,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:35,y:74,weaponact:32,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},231:{name:"lying",pic:44,state:14,wait:30,next:219,dvx:0,dvy:0,dvz:0,centerx:39,centery:75,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:32,y:74,weaponact:24,attacking:0,cover:0,dvx:0,dvy:0,dvz:0}},232:{name:"throw_lying_man",pic:27,state:9,wait:7,next:233,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,cpoint:{kind:1,x:28,y:9,vaction:135,throwvz:-842150451,throwinjury:-842150451,dircontrol:1},wpoint:{kind:1,x:20,y:26,weaponact:31,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},bdy:{kind:0,x:28,y:19,w:30,h:62}},233:{name:"throw_lying_man",pic:28,state:9,wait:1,next:234,dvx:0,dvy:0,dvz:0,centerx:45,centery:79,hit_a:0,hit_d:0,hit_j:0,sound:"data\\007.wav",cpoint:{kind:1,x:72,y:53,vaction:181,throwvx:13,throwvy:-7,throwvz:3,throwinjury:30},wpoint:{kind:1,x:41,y:49,weaponact:25,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:8,y:39,w:61,h:23},{kind:0,x:19,y:56,w:30,h:24}]},234:{name:"throw_lying_man",pic:28,state:9,wait:10,next:999,dvx:0,dvy:0,dvz:0,centerx:45,centery:79,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:1,x:41,y:49,weaponact:25,attacking:0,cover:1,dvx:0,dvy:0,dvz:0},bdy:[{kind:0,x:8,y:39,w:61,h:23},{kind:0,x:19,y:56,w:30,h:24}]},399:{name:"dummy",pic:0,state:0,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:39,centery:79,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:21,y:18,w:43,h:62}}}}}],lightweapon:[{id:100,type:"lightweapon",data:{bmp:{file:[{"file(0-99)":"sprite/weapon0.png",w:48,h:48,row:10,col:10}],weapon_hp:200,weapon_drop_hurt:35,weapon_hit_sound:"data\\011.wav",weapon_drop_sound:"data\\011.wav",weapon_broken_sound:"data\\094.wav"},weapon_strength_list:{1:{entry:"normal",dvx:2,fall:40,vrest:10,bdefend:16,injury:40},2:{entry:"jump",dvx:7,fall:70,vrest:10,bdefend:16,injury:40},3:{entry:"run",dvx:10,fall:70,vrest:10,bdefend:16,injury:50},4:{entry:"dash",dvx:12,fall:70,vrest:20,bdefend:60,injury:50}},frame:{0:{name:"in_the_sky",pic:0,state:1e3,wait:0,next:1,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},1:{name:"in_the_sky",pic:1,state:1e3,wait:0,next:2,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},2:{name:"in_the_sky",pic:2,state:1e3,wait:0,next:3,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},3:{name:"in_the_sky",pic:3,state:1e3,wait:0,next:4,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},4:{name:"in_the_sky",pic:4,state:1e3,wait:0,next:5,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},5:{name:"in_the_sky",pic:5,state:1e3,wait:0,next:6,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},6:{name:"in_the_sky",pic:6,state:1e3,wait:0,next:7,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},7:{name:"in_the_sky",pic:7,state:1e3,wait:0,next:8,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},8:{name:"in_the_sky",pic:8,state:1e3,wait:0,next:9,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},9:{name:"in_the_sky",pic:9,state:1e3,wait:0,next:10,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},10:{name:"in_the_sky",pic:10,state:1e3,wait:0,next:11,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},11:{name:"in_the_sky",pic:11,state:1e3,wait:0,next:12,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},12:{name:"in_the_sky",pic:12,state:1e3,wait:0,next:13,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},13:{name:"in_the_sky",pic:13,state:1e3,wait:0,next:14,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},14:{name:"in_the_sky",pic:14,state:1e3,wait:0,next:15,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},15:{name:"in_the_sky",pic:15,state:1e3,wait:0,next:999,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},20:{name:"on_hand",pic:20,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:24,y:40,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:5,x:18,y:4,w:12,h:50,fall:20,bdefend:16,injury:789}},21:{name:"on_hand",pic:21,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:17,y:41,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:23,y:2,w:13,h:23,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:12,y:26,w:13,h:26,dvx:8,fall:20,bdefend:16,injury:789}]},22:{name:"on_hand",pic:22,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:12,y:37,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:-6,y:36,w:21,h:19,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:28,y:5,w:14,h:19,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:10,y:18,w:21,h:22,dvx:8,fall:20,bdefend:16,injury:789}]},23:{name:"on_hand",pic:23,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:9,y:33,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:33,y:15,w:13,h:11,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:5,y:24,w:25,h:11,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:-18,y:33,w:31,h:10,dvx:8,fall:20,bdefend:16,injury:789}]},24:{name:"on_hand",pic:24,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:10,y:29,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:5,x:-23,y:23,w:70,h:12,dvx:8,fall:20,bdefend:16,injury:789}},25:{name:"on_hand",pic:25,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:12,y:23,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:-14,y:13,w:38,h:17,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:22,y:25,w:23,h:16,dvx:8,fall:20,bdefend:16,injury:789}]},26:{name:"on_hand",pic:26,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:14,y:15,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:26,y:27,w:16,h:16,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:-3,y:-1,w:24,h:24,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:17,y:20,w:16,h:13,dvx:8,fall:20,bdefend:16,injury:789}]},27:{name:"on_hand",pic:27,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:17,y:13,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:7,y:3,w:16,h:22,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:19,y:22,w:15,h:23,dvx:8,fall:20,bdefend:16,injury:789}]},28:{name:"on_hand",pic:28,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:24,y:11,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:5,x:18,y:2,w:14,h:45,dvx:8,fall:20,bdefend:16,injury:789}},29:{name:"on_hand",pic:29,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:29,y:13,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:24,y:-1,w:11,h:28,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:11,y:25,w:16,h:22,dvx:8,fall:20,bdefend:16,injury:789}]},30:{name:"on_hand",pic:30,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:36,y:16,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:-2,y:34,w:24,h:14,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:34,y:-1,w:23,h:16,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:18,y:14,w:20,h:20,dvx:8,fall:20,bdefend:16,injury:789}]},31:{name:"on_hand",pic:31,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:37,y:19,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:28,y:10,w:32,h:12,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:-4,y:21,w:39,h:16,dvx:8,fall:20,bdefend:16,injury:789}]},32:{name:"on_hand",pic:32,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:37,y:26,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:5,x:-2,y:23,w:66,h:8}},33:{name:"on_hand",pic:33,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:38,y:33,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:3,y:15,w:22,h:16,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:25,y:27,w:39,h:15,dvx:8,fall:20,bdefend:16,injury:789}]},34:{name:"on_hand",pic:34,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:34,y:36,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:32,y:34,w:20,h:18,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:5,y:5,w:17,h:19,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:15,y:19,w:20,h:18,dvx:8,fall:20,bdefend:16,injury:789}]},35:{name:"on_hand",pic:35,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:29,y:40,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:9,y:1,w:14,h:22,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:19,y:20,w:18,h:32,dvx:8,fall:20,bdefend:16,injury:789}]},40:{name:"throwing",pic:0,state:1002,wait:0,next:41,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:85},bdy:{kind:0,x:3,y:4,w:40,h:39}},41:{name:"throwing",pic:1,state:1002,wait:0,next:42,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},42:{name:"throwing",pic:2,state:1002,wait:0,next:43,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},43:{name:"throwing",pic:3,state:1002,wait:0,next:44,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},44:{name:"throwing",pic:4,state:1002,wait:0,next:45,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},45:{name:"throwing",pic:5,state:1002,wait:0,next:46,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},46:{name:"throwing",pic:6,state:1002,wait:0,next:47,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},47:{name:"throwing",pic:7,state:1002,wait:0,next:48,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},48:{name:"throwing",pic:8,state:1002,wait:0,next:49,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},49:{name:"throwing",pic:9,state:1002,wait:0,next:50,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},50:{name:"throwing",pic:10,state:1002,wait:0,next:51,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},51:{name:"throwing",pic:11,state:1002,wait:0,next:52,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},52:{name:"throwing",pic:12,state:1002,wait:0,next:53,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},53:{name:"throwing",pic:13,state:1002,wait:0,next:54,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},54:{name:"throwing",pic:14,state:1002,wait:0,next:55,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},55:{name:"throwing",pic:15,state:1002,wait:0,next:40,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,bdefend:16,injury:50},bdy:{kind:0,x:3,y:4,w:40,h:39}},60:{name:"on_ground",pic:2,state:1003,wait:1,next:61,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,sound:"data\\011.wav"},61:{name:"on_ground",pic:5,state:1003,wait:2,next:62,dvx:0,dvy:0,dvz:0,centerx:24,centery:36,hit_a:0,hit_d:0,hit_j:0},62:{name:"on_ground",pic:3,state:1003,wait:2,next:63,dvx:0,dvy:0,dvz:0,centerx:24,centery:34,hit_a:0,hit_d:0,hit_j:0,sound:"data\\011.wav"},63:{name:"on_ground",pic:5,state:1003,wait:1,next:64,dvx:0,dvy:0,dvz:0,centerx:24,centery:35,hit_a:0,hit_d:0,hit_j:0},64:{name:"on_ground",pic:4,state:1004,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:29,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:1,y:19,w:46,h:15}},70:{name:"just_on_ground",pic:2,state:1003,wait:1,next:71,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,sound:"data\\011.wav",itr:{kind:0,x:1,y:19,w:46,h:15,dvx:2,fall:40,arest:16,bdefend:16}},71:{name:"just_on_on_ground",pic:5,state:1003,wait:2,next:72,dvx:0,dvy:0,dvz:0,centerx:24,centery:36,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:1,y:19,w:46,h:15,dvx:2,fall:40,arest:16,bdefend:16}},72:{name:"just_on_on_ground",pic:3,state:1003,wait:2,next:64,dvx:0,dvy:0,dvz:0,centerx:24,centery:34,hit_a:0,hit_d:0,hit_j:0,sound:"data\\011.wav",itr:{kind:0,x:1,y:19,w:46,h:15,dvx:2,fall:40,arest:16,bdefend:16}},399:{name:"dummy",pic:4,state:0,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:29,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:1,y:19,w:46,h:15}}}}},{id:101,type:"lightweapon",data:{bmp:{file:[{"file(0-99)":"sprite/weapon2.png",w:48,h:48,row:10,col:10}],weapon_hp:200,weapon_drop_hurt:35,weapon_hit_sound:"data\\079.wav",weapon_drop_sound:"data\\079.wav",weapon_broken_sound:"data\\079.wav"},weapon_strength_list:{1:{entry:"normal",dvx:2,vrest:10,fall:70,bdefend:60,injury:45,effect:1},2:{entry:"jump",dvx:7,fall:70,vrest:10,bdefend:60,injury:45,effect:1},3:{entry:"run",dvx:10,fall:70,vrest:10,bdefend:60,injury:55,effect:1},4:{entry:"dash",dvx:12,fall:70,vrest:20,bdefend:60,injury:55,effect:1}},frame:{0:{name:"in_the_sky",pic:0,state:1e3,wait:0,next:1,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},1:{name:"in_the_sky",pic:1,state:1e3,wait:0,next:2,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},2:{name:"in_the_sky",pic:2,state:1e3,wait:0,next:3,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},3:{name:"in_the_sky",pic:3,state:1e3,wait:0,next:4,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},4:{name:"in_the_sky",pic:4,state:1e3,wait:0,next:5,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},5:{name:"in_the_sky",pic:5,state:1e3,wait:0,next:6,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},6:{name:"in_the_sky",pic:6,state:1e3,wait:0,next:7,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},7:{name:"in_the_sky",pic:7,state:1e3,wait:0,next:8,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},8:{name:"in_the_sky",pic:8,state:1e3,wait:0,next:9,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},9:{name:"in_the_sky",pic:9,state:1e3,wait:0,next:10,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},10:{name:"in_the_sky",pic:10,state:1e3,wait:0,next:11,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},11:{name:"in_the_sky",pic:11,state:1e3,wait:0,next:12,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},12:{name:"in_the_sky",pic:12,state:1e3,wait:0,next:13,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},13:{name:"in_the_sky",pic:13,state:1e3,wait:0,next:14,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},14:{name:"in_the_sky",pic:14,state:1e3,wait:0,next:15,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},15:{name:"in_the_sky",pic:15,state:1e3,wait:0,next:999,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:3,y:4,w:40,h:39}},20:{name:"on_hand",pic:20,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:24,y:40,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:5,x:17,y:2,w:13,h:44,fall:20,bdefend:16,injury:789}},21:{name:"on_hand",pic:21,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:17,y:41,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:23,y:2,w:13,h:23,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:15,y:20,w:12,h:23,dvx:8,fall:20,bdefend:16,injury:789}]},22:{name:"on_hand",pic:22,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:12,y:37,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:-6,y:36,w:20,h:17,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:28,y:5,w:14,h:19,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:13,y:22,w:17,h:14,dvx:8,fall:20,bdefend:16,injury:789}]},23:{name:"on_hand",pic:23,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:9,y:33,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:33,y:15,w:13,h:11,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:6,y:21,w:27,h:15,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:-14,y:33,w:23,h:11,dvx:8,fall:20,bdefend:16,injury:789}]},24:{name:"on_hand",pic:24,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:10,y:29,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:5,x:-12,y:24,w:56,h:12,dvx:8,fall:20,bdefend:16,injury:789}},25:{name:"on_hand",pic:25,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:12,y:23,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:-8,y:11,w:29,h:15,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:15,y:24,w:28,h:14,dvx:8,fall:20,bdefend:16,injury:789}]},26:{name:"on_hand",pic:26,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:14,y:15,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:26,y:27,w:16,h:16,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:0,y:-1,w:18,h:16,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:12,y:13,w:19,h:16,dvx:8,fall:20,bdefend:16,injury:789}]},27:{name:"on_hand",pic:27,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:17,y:13,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:12,y:8,w:14,h:19,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:19,y:22,w:15,h:23,dvx:8,fall:20,bdefend:16,injury:789}]},28:{name:"on_hand",pic:28,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:24,y:11,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:5,x:18,y:8,w:13,h:39,dvx:8,fall:20,bdefend:16,injury:789}},29:{name:"on_hand",pic:29,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:29,y:13,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:18,y:6,w:14,h:24,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:11,y:25,w:16,h:22,dvx:8,fall:20,bdefend:16,injury:789}]},30:{name:"on_hand",pic:30,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:36,y:16,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:8,y:32,w:18,h:13,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:27,y:11,w:12,h:15,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:16,y:22,w:16,h:12,dvx:8,fall:20,bdefend:16,injury:789}]},31:{name:"on_hand",pic:31,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:37,y:19,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:19,y:15,w:22,h:14,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:0,y:25,w:28,h:13,dvx:8,fall:20,bdefend:16,injury:789}]},32:{name:"on_hand",pic:32,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:37,y:26,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:{kind:5,x:0,y:19,w:42,h:16}},33:{name:"on_hand",pic:33,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:38,y:33,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:3,y:15,w:22,h:16,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:19,y:22,w:21,h:16,dvx:8,fall:20,bdefend:16,injury:789}]},34:{name:"on_hand",pic:34,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:34,y:36,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:26,y:27,w:11,h:12,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:5,y:5,w:17,h:19,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:14,y:18,w:17,h:14,dvx:8,fall:20,bdefend:16,injury:789}]},35:{name:"on_hand",pic:35,state:1001,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,wpoint:{kind:2,x:29,y:40,weaponact:0,attacking:0,cover:0,dvx:0,dvy:0,dvz:0},itr:[{kind:5,x:9,y:1,w:14,h:22,dvx:8,fall:20,bdefend:16,injury:789},{kind:5,x:18,y:17,w:14,h:22,dvx:8,fall:20,bdefend:16,injury:789}]},40:{name:"throwing",pic:0,state:1002,wait:0,next:41,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},41:{name:"throwing",pic:1,state:1002,wait:0,next:42,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},42:{name:"throwing",pic:2,state:1002,wait:0,next:43,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},43:{name:"throwing",pic:3,state:1002,wait:0,next:44,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},44:{name:"throwing",pic:4,state:1002,wait:0,next:45,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},45:{name:"throwing",pic:5,state:1002,wait:0,next:46,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},46:{name:"throwing",pic:6,state:1002,wait:0,next:47,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},47:{name:"throwing",pic:7,state:1002,wait:0,next:48,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},48:{name:"throwing",pic:8,state:1002,wait:0,next:49,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},49:{name:"throwing",pic:9,state:1002,wait:0,next:50,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},50:{name:"throwing",pic:10,state:1002,wait:0,next:51,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},51:{name:"throwing",pic:11,state:1002,wait:0,next:52,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},52:{name:"throwing",pic:12,state:1002,wait:0,next:53,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},53:{name:"throwing",pic:13,state:1002,wait:0,next:54,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},54:{name:"throwing",pic:14,state:1002,wait:0,next:55,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},55:{name:"throwing",pic:15,state:1002,wait:0,next:40,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:3,y:4,w:40,h:39,dvx:8,fall:70,vrest:10,bdefend:60,injury:55,effect:1},bdy:{kind:0,x:3,y:4,w:40,h:39}},60:{name:"on_ground",pic:2,state:1003,wait:1,next:61,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,sound:"data\\079.wav"},61:{name:"on_ground",pic:5,state:1003,wait:2,next:62,dvx:0,dvy:0,dvz:0,centerx:24,centery:36,hit_a:0,hit_d:0,hit_j:0},62:{name:"on_ground",pic:3,state:1003,wait:2,next:63,dvx:0,dvy:0,dvz:0,centerx:24,centery:34,hit_a:0,hit_d:0,hit_j:0,sound:"data\\079.wav"},63:{name:"on_ground",pic:5,state:1003,wait:1,next:64,dvx:0,dvy:0,dvz:0,centerx:24,centery:35,hit_a:0,hit_d:0,hit_j:0},64:{name:"on_ground",pic:4,state:1004,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:29,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:1,y:19,w:46,h:15}},70:{name:"just_on_ground",pic:2,state:1003,wait:1,next:71,dvx:0,dvy:0,dvz:0,centerx:24,centery:40,hit_a:0,hit_d:0,hit_j:0,sound:"data\\079.wav",itr:{kind:0,x:1,y:19,w:46,h:15,dvx:2,fall:40,arest:16,bdefend:16}},71:{name:"just_on_on_ground",pic:5,state:1003,wait:2,next:72,dvx:0,dvy:0,dvz:0,centerx:24,centery:36,hit_a:0,hit_d:0,hit_j:0,itr:{kind:0,x:1,y:19,w:46,h:15,dvx:2,fall:40,arest:16,bdefend:16}},72:{name:"just_on_on_ground",pic:3,state:1003,wait:2,next:64,dvx:0,dvy:0,dvz:0,centerx:24,centery:34,hit_a:0,hit_d:0,hit_j:0,sound:"data\\079.wav",itr:{kind:0,x:1,y:19,w:46,h:15,dvx:2,fall:40,arest:16,bdefend:16}},399:{name:"dummy",pic:4,state:0,wait:0,next:0,dvx:0,dvy:0,dvz:0,centerx:24,centery:29,hit_a:0,hit_d:0,hit_j:0,bdy:{kind:0,x:1,y:19,w:46,h:15}}}}}],heavyweapon:[{id:150,type:"heavyweapon",data:{bmp:{file:[{"file(0-99)":"sprite/weapon1.png",w:58,h:58,row:10,col:10}],weapon_hp:800,weapon_drop_hurt:200,weapon_hit_sound:"data\\010.wav",weapon_drop_sound:"data\\010.wav",weapon_broken_sound:"data\\021.wav"},frame:{0:{name:"in_the_sky",pic:0,state:2e3,wait:3,next:1,dvx:0,dvy:0,centerx:29,centery:56,itr:{kind:0,x:6,y:9,w:44,h:46,dvx:5,dvy:-7,fall:70,vrest:17,bdefend:30,injury:60},bdy:{kind:0,x:6,y:9,w:44,h:46}},1:{name:"in_the_sky",pic:1,state:2e3,wait:2,next:2,dvx:0,dvy:0,centerx:29,centery:56,itr:{kind:0,x:6,y:9,w:44,h:46,dvx:5,dvy:-7,fall:70,vrest:17,bdefend:30,injury:60},bdy:{kind:0,x:6,y:9,w:44,h:46}},2:{name:"in_the_sky",pic:2,state:2e3,wait:3,next:3,dvx:0,dvy:0,centerx:29,centery:56,itr:{kind:0,x:6,y:9,w:44,h:46,dvx:5,dvy:-7,fall:70,vrest:17,bdefend:30,injury:60},bdy:{kind:0,x:6,y:9,w:44,h:46}},3:{name:"in_the_sky",pic:3,state:2e3,wait:2,next:4,dvx:0,dvy:0,centerx:29,centery:56,itr:{kind:0,x:6,y:9,w:44,h:46,dvx:5,dvy:-7,fall:70,vrest:17,bdefend:30,injury:60},bdy:{kind:0,x:6,y:9,w:44,h:46}},4:{name:"in_the_sky",pic:4,state:2e3,wait:3,next:5,dvx:0,dvy:0,centerx:29,centery:56,itr:{kind:0,x:6,y:9,w:44,h:46,dvx:5,dvy:-7,fall:70,vrest:17,bdefend:30,injury:60},bdy:{kind:0,x:6,y:9,w:44,h:46}},5:{name:"in_the_sky",pic:5,state:2e3,wait:2,next:999,dvx:0,dvy:0,centerx:29,centery:56,itr:{kind:0,x:6,y:9,w:44,h:46,dvx:5,dvy:-7,fall:70,vrest:17,bdefend:30,injury:60},bdy:{kind:0,x:6,y:9,w:44,h:46}},10:{name:"on_hand",pic:5,state:2001,wait:0,next:0,dvx:0,dvy:0,centerx:29,centery:56,wpoint:{kind:2,x:29,y:56,weaponact:35,attacking:0,cover:0,dvx:0,dvy:0}},20:{name:"on_ground",pic:5,state:2004,wait:0,next:0,dvx:0,dvy:0,centerx:29,centery:56,itr:{kind:14,x:21,y:37,w:16,h:18,vrest:1},bdy:{kind:0,x:11,y:15,w:36,h:40}},21:{name:"just_on_ground",pic:3,state:2e3,wait:1,next:999,dvx:0,dvy:0,centerx:29,centery:56,itr:{kind:0,x:6,y:9,w:44,h:46,dvx:5,dvy:-7,fall:70,vrest:17,bdefend:30,injury:60}},399:{name:"dummy",pic:5,state:0,wait:2,next:999,dvx:0,dvy:0,centerx:29,centery:56,bdy:{kind:0,x:1,y:19,w:46,h:15}}}}}],effects:[{id:300,type:"effects",data:{bmp:{file:[{file:"sprite/effect0.png",w:100,h:75,row:10,col:1},{file:"sprite/effect0.png",w:60,h:70,row:10,col:3}]},effect_list:{1:{name:"small",frame:10},2:{name:"big",frame:0}},frame:{0:{name:"big",pic:0,wait:0,next:1,centerx:51,centery:40},1:{pic:1,wait:0,next:2},2:{pic:2,wait:0,next:3},3:{pic:3,wait:0,next:4},4:{pic:4,wait:0,next:1e3},10:{name:"small",pic:20,wait:0,next:11,centerx:30,centery:34},11:{pic:21,wait:0,next:12},12:{pic:22,wait:0,next:13},13:{pic:23,wait:0,next:14},14:{pic:24,wait:0,next:1e3}}}},{id:301,type:"effects",data:{bmp:{file:[{file:"sprite/effect0.png",w:100,h:69,row:10,col:3},{file:"sprite/effect0.png",w:60,h:51,row:10,col:5}]},effect_list:{1:{name:"small",frame:10},2:{name:"big",frame:0}},frame:{0:{name:"big",pic:21,wait:0,next:1,centerx:49,centery:28},1:{pic:22,wait:0,next:2},2:{pic:23,wait:0,next:3},3:{pic:24,wait:0,next:4},4:{pic:25,wait:0,next:1e3},10:{name:"small",pic:70,wait:0,next:11,centerx:28,centery:27},11:{pic:71,wait:0,next:12},12:{pic:72,wait:0,next:13},13:{pic:73,wait:0,next:14},14:{pic:74,wait:0,next:1e3}}}}]}}),define("core/util",[],function(){var e={css:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=e,n.rel="stylesheet",n.type="text/css",t.appendChild(n)},double_delegate:function(e,t){return function(){e&&e.apply(this,Array.prototype.slice.call(arguments)),t&&t.apply(this,Array.prototype.slice.call(arguments))}},make_array:function(e){return e?e instanceof Array?e:[e]:[]},arr_search:function(e,t,n,r){var i=new Array;for(var s in e)if(t(e[s],s)){n&&(e[s]=n(e[s]));if(!r)return s;i.push(s)}return r?i:-1},push_unique:function(t,n){var r=e.arr_search(t,function(e){return e==n});r==-1&&t.push(n)},extend_object:function(e,t){for(var n in t)typeof t[n]=="object"?e[n]=arguments.callee(e[n]?e[n]:{},t[n]):e[n]=t[n];return e},to_text:function(e,t,n,r,i,s){if(s===0)return"";s||(s=30),n||(n="\n"),r||(r="");var o=r+t+":"+n;o+=r+"{";var u=0;for(var a in e){var f=i&&i(a,e[a]);f!=1&&(typeof f=="string"?o+=(u?",":"")+n+r+"	"+"'"+a+"'"+": "+f:e[a].constructor==Object?o+=(u?",":"")+n+arguments.callee(e[a],a,n,r+"	",i,s-1):(o+=(u?",":"")+n+r+"	"+"'"+a+"'"+": ",typeof e[a]=="string"&&(o+="'"),o+=e[a],typeof e[a]=="string"&&(o+="'"))),u=1}return o+=n+r+"}",o},extract_array:function(t,n){var r={};n=e.make_array(n);for(var i in n)r[n[i]]=[];for(var s=0;s<t.length;s++)for(var o=0;o<n.length;o++){var u=n[o];r[u].push(t[s][u])}return r}};return e}),define("LF/global",[],function(){var e={};e.combo_list=[{name:"left",seq:["left"]},{name:"right",seq:["right"]},{name:"def",seq:["def"]},{name:"jump",seq:["jump"]},{name:"att",seq:["att"]},{name:"run",seq:["right","right"]},{name:"run",seq:["left","left"]},{name:"DvA",seq:["def","down","att"]},{name:"D<A",seq:["def","left","att"]},{name:"D>A",seq:["def","right","att"]},{name:"D^A",seq:["def","up","att"]},{name:"DvJ",seq:["def","down","jump"]},{name:"D<J",seq:["def","left","jump"]},{name:"D>J",seq:["def","right","jump"]},{name:"D^J",seq:["def","up","jump"]},{name:"DJA",seq:["def","jump","att"]}],e.detector_config={timeout:30,comboout:8,no_repeat_key:!0},e.gameplay={};var t=e.gameplay;return t.default={},t.default.itr={},t.default.itr.zwidth=12,t.default.itr.hit_stall=3,t.default.cpoint={},t.default.cpoint.hurtable=0,t.default.cpoint.cover=0,t.default.wpoint={},t.default.wpoint.cover=0,t.default.effect={},t.default.effect.num=0,t.default.effect.duration=3,t.default.fall={},t.default.fall.value=20,t.default.fall.dvy=-6.9,t.default.throw={},t.default.throw.frame=135,t.default.weapon={},t.default.weapon.vrest=9,t.default.character={},t.default.character.arest=7,t.default.machanics={},t.default.machanics.mass=1,t.recover={},t.recover.fall=-1,t.recover.bdefend=-0.5,t.effect={},t.effect.num_to_id=300,t.character={},t.character.bounceup={},t.character.bounceup.limit=14.2,t.character.bounceup.factor={},t.character.bounceup.factor.x=.6,t.character.bounceup.factor.y=-0.4,t.character.bounceup.factor.z=.6,t.defend={},t.defend.injury={},t.defend.injury.factor=.1,t.defend.break=40,t.fall={},t.fall.KO=60,t.friction={},t.friction.factor=.74,t.friction.fell={},t.friction.fell.factor=.34,t.min_speed=1,t.gravity=1.7,t.weapon={},t.weapon.bounceup={},t.weapon.bounceup.limit=12.25,t.weapon.bounceup.speed={},t.weapon.bounceup.speed.x=3,t.weapon.bounceup.speed.y=-3.7,t.weapon.bounceup.speed.z=2,t.weapon.hit={},t.weapon.hit.vx=-3,t.weapon.hit.vy=0,t.weapon.gain={},t.weapon.gain.factor={},t.weapon.gain.factor.x=1.1,t.weapon.gain.factor.y=1.4,t.weapon.reverse={},t.weapon.reverse.factor={},t.weapon.reverse.factor.vx=-0.4,t.weapon.reverse.factor.vy=-2,t.weapon.reverse.factor.vz=-0.4,t.unspecified=-842150451,e}),define("data/specification",[],function(){var e={};return e[0]={},e[30]={},e[100]={mass:.35,attackable:!0,run_throw:!0,jump_throw:!0,dash_throw:!1,stand_throw:!1,just_throw:!1},e[101]={mass:.65,attackable:!0,run_throw:!0,jump_throw:!0},e[150]={mass:.8},e[300]={oscillate:4,cant_move:!0,drop_weapon:!0},e[301]={cant_move:!0,drop_weapon:!0},e}),define("core/animator",[],function(){function e(e){this.config=e,this.target=e.tar,this.I=0,this.horimirror=!1,e.borderright||(e.borderright=0),e.borderbottom||(e.borderbottom=0),e.borderleft||(e.borderleft=0),e.bordertop||(e.bordertop=0)}return e.prototype.next_frame=function(){var e=this.config;this.I++;if(!e.ani)this.I==e.gx*e.gy&&(this.I=0),this.show_frame(this.I);else{var t=e.ani[this.I];if(this.I>=e.ani.length||this.I<0)this.I=0,t=e.ani[0];this.show_frame(t)}return this.I},e.prototype.set_frame=function(e){this.I=e,this.show_frame(e)},e.prototype.hmirror=function(e){this.horimirror=e},e.prototype.show_frame=function(e){var t=this.config,n,r;n=-(e%t.gx*t.w+t.x+t.borderleft),r=-(Math.floor(e/t.gx)*t.h+t.y+t.bordertop),this.horimirror&&(n=-this.target.img[this.target.cur_img].naturalWidth-n+t.w-t.borderleft-t.borderright),this.target.set_wh({x:t.w-t.borderleft-t.borderright,y:t.h-t.bordertop-t.borderbottom}),this.target.set_img_xy({x:n,y:r})},e.prototype.get_at=function(e){e||(e=this.I);var t=this.config;return t.graph[e%t.gx][Math.floor(e/t.gx)]},e.set=function(t,n){if(!t)return null;var r=new Object;for(var i in t){if(n&&i==n)continue;if(n&&t[n])for(var s in t[n])t[i][s]=t[n][s];r[i]=new e(t[i])}return r},e}),define("LF/sprite",["core/sprite","core/animator"],function(e,t){function n(n,r){var i=this.num_of_images=n.file.length,s=this.w=n.file[0].w+1,o=this.h=n.file[0].h+1,u=this.ani={length:0};this.dir="right",this.cur_img=0;var a={canvas:r,wh:{x:s,y:o},img:{}},f=this.sp=new e(a);for(var l=0;l<n.file.length;l++){var c="";for(var h in n.file[l])typeof n.file[l][h]=="string"&&h.indexOf("file")===0&&(c=n.file[l][h]);c===""&&console.log("cannot find img path in data:\n"+JSON.stringify(n.file[l])),f.add_img(c,l+"r");if(n.file[l].mirror)n.file[l].mirror!=="none"&&f.add_img(n.file[l].mirror,l+"l");else{var p=c.lastIndexOf(".");f.add_img(c.slice(0,p)+"_mirror"+c.slice(p),l+"l")}var d={x:0,y:0,w:n.file[l].w+1,h:n.file[l].h+1,gx:n.file[l].row,gy:n.file[l].col,tar:f,borderright:1,borderbottom:1};u.length++,u[l]=new t(d)}}return n.prototype.show_pic=function(e){var t=0;for(var n=0;n<this.ani.length;n++){var r=e-this.ani[n].config.gx*this.ani[n].config.gy;if(!(r>=0))break;e=r,t++}this.cur_img=t,this.sp.switch_img(this.cur_img+(this.dir==="right"?"r":"l")),this.ani[this.cur_img].hmirror(this.dir==="left"),this.ani[this.cur_img].set_frame(e),this.w=this.ani[this.cur_img].config.w,this.h=this.ani[this.cur_img].config.h},n.prototype.switch_lr=function(e){var t=this.ani[this.cur_img].I;this.dir=e,this.sp.switch_img(this.cur_img+(this.dir==="right"?"r":"l")),this.ani[this.cur_img].hmirror(this.dir==="left"),this.ani[this.cur_img].set_frame(t)},n.prototype.set_xy=function(e){this.sp.set_xy(e)},n.prototype.set_z=function(e){this.sp.set_z(e)},n.prototype.show=function(){this.sp.show()},n.prototype.hide=function(){this.sp.hide()},n}),define("LF/mechanics",["LF/global","data/specification"],function(e,t){function r(n){t[n.id]&&t[n.id].mass?this.mass=t[n.id].mass:this.mass=e.gameplay.default.machanics.mass,this.ps,this.sp=n.sp,this.frame=n.frame,this.parent=n}var n=e.gameplay;return r.prototype.body=function(e,t,n){var r=this.ps,i=this.sp,s=n;e||(e=this.frame.D.bdy);if(e instanceof Array){if(!t&&e.length===2)return[this.volume(e[0],s),this.volume(e[1],s)];if(!t&&e.length===3)return[this.volume(e[0],s),this.volume(e[1],s),this.volume(e[2],s)];var o=[];for(var u in e)(!t||t(e[u]))&&o.push(this.volume(e[u],s));return o}return!t||t(e)?[this.volume(e,s)]:[]},r.prototype.volume=function(e,t){var r=this.ps,i=this.sp;if(!e)return t?{x:t.x,y:t.y,z:t.z,vx:0,vy:0,w:0,h:0,zwidth:0,data:{}}:{x:r.sx,y:r.sy,z:r.sz,vx:0,vy:0,w:0,h:0,zwidth:0,data:{}};var s=e.x;return r.dir==="left"&&(s=i.w-e.x-e.w),t?{x:r.sx+t.x,y:r.sy+t.y,z:r.sz+t.z,vx:s,vy:e.y,w:e.w,h:e.h,zwidth:e.zwidth?e.zwidth:n.default.itr.zwidth,data:e}:{x:r.sx,y:r.sy,z:r.sz,vx:s,vy:e.y,w:e.w,h:e.h,zwidth:e.zwidth?e.zwidth:n.default.itr.zwidth,data:e}},r.prototype.make_point=function(e){var t=this.ps,n=this.sp;return e?t.dir==="right"?{x:t.sx+e.x,y:t.sy+e.y,z:t.sz+e.y}:{x:t.sx+n.w-e.x,y:t.sy+e.y,z:t.sz+e.y}:(alert("make point failed"),{x:t.sx,y:t.sy,z:t.sz})},r.prototype.coincideXZ=function(e,t){var n=this.ps,r=this.sp,i=this.frame.D,s=e.x-t.x,o=e.z-t.z;n.x+=s,n.z+=o,n.sx=n.dir==="right"?n.x-i.centerx:n.x+i.centerx-r.w},r.prototype.coincideXY=function(e,t){var n=this.ps,r=this.sp,i=this.frame.D,s=e.x-t.x,o=e.y-t.y;n.x+=s,n.y+=o,n.sx=n.dir==="right"?n.x-i.centerx:n.x+i.centerx-r.w,n.sy=n.y-i.centery},r.prototype.create_metric=function(){return this.ps={sx:0,sy:0,sz:0,x:0,y:0,z:0,vx:0,vy:0,vz:0,zz:0,dir:"right"},this.ps},r.prototype.reset=function(){ps.x=0,ps.y=0,ps.z=0,ps.sx=0,ps.sy=0,ps.sz=0,ps.vx=0,ps.vy=0,ps.vz=0,ps.zz=0,ps.dir="right"},r.prototype.set_pos=function(e,t,n){var r=this.ps,i=this.sp,s=this.frame.D;r.x=e,r.y=t,r.z=n,r.sx=r.dir==="right"?r.x-s.centerx:r.x+s.centerx-i.w,r.sy=t-s.centery,r.sz=n},r.prototype.dynamics=function(){var t=this.ps,n=this.sp,r=this.frame.D,i=this.frame.mobility,s=e.gameplay;this.blocking_xz()||(t.x+=t.vx*i,t.z+=t.vz*i),t.y+=t.vy*i,t.sx=t.dir==="right"?t.x-r.centerx:t.x+r.centerx-n.w,t.sy=t.y-r.centery,t.sz=t.z,t.y>0&&(t.y=0,t.sy=t.y-r.centery),n.set_xy({x:t.sx,y:t.sy+t.sz}),n.set_z(t.sz+t.zz),t.y===0&&(t.vx*=s.friction.factor,t.vz*=s.friction.factor,t.vx!==0&&t.vx>-s.min_speed&&t.vx<s.min_speed&&(t.vx=0),t.vz!==0&&t.vz>-s.min_speed&&t.vz<s.min_speed&&(t.vz=0)),t.y<0&&(t.vy+=this.mass*s.gravity)},r.prototype.blocking_xz=function(){var e={x:this.ps.vx*this.frame.mobility,y:0,z:this.ps.vz*this.frame.mobility},t=this.body(null,null,e);for(var n in t){t[n].zwidth=0;var r=this.parent.scene.query(t[n],this.parent,{tag:"itr:14"});if(r.length>0)return!0}},r.prototype.project=function(){var e=this.ps,t=this.sp;t.set_xy({x:e.sx,y:e.sy+e.sz}),t.set_z(e.sz+e.zz)},r.prototype.speed=function(){var e=this.ps;return Math.sqrt(e.vx*e.vx+e.vy*e.vy)},r}),define("core/combodec",[],function(){function e(e,t,n){var r=1,i=0,s=0;this.con=e,this.seq=new Array,this.config=t,this.callback=t.callback,this.combo=n,this.con.child.push(this),this.key=function(e,t){if(!t)return;var n=this.seq,o=!0;if(this.config.rp)for(var u=n.length-1,a=1;u>=0&&n[u]==e;u--,a++)a>=this.config.rp[e]&&(o=!1);this.config.no_repeat_key&&this.con.state[e]&&(o=!1),i=r+this.config.timeout,s=r+this.config.comboout,o&&n.push(e);if(this.combo&&o){var f=this.combo;for(var u in f){var l=!0;for(var c=n.length-f[u].seq.length,h=0;c<n.length;c++,h++)if(f[u].seq[h]!==n[c]){l=!1;break}l&&(this.callback(f[u]),f[u].interrupt&&this.seq.push("_"))}}},this.clear_seq=function(){this.seq.length=0},this.frame=function(){r==i&&this.clear_seq(),r==s&&this.seq.push("_"),r++}}return e}),define("LF/livingobject",["LF/global","data/specification","LF/sprite","LF/mechanics","core/combodec"],function(e,t,n,r,i){function s(s){function u(t,o,u){var f=this;f.type=s.type,f.name=o.bmp.name,f.uid=-1,f.id=u,f.data=o,f.team=t.team,f.states=s.states,f.states_switch_dir=s.states_switch_dir,f.match=t.match,f.scene=t.scene,f.visualeffect=t.effects,f.sp=new n(o.bmp,t.stage),f.health={hp:100,mp:100,bdefend:0,fall:0},f.frame={PN:0,N:0,D:o.frame[0],mobility:1,ani:{i:0,up:!0}},f.mech=new r(f),f.ps=f.mech.create_metric(),f.trans=new a(f),f.itr={vrest:[],lasthit:-100},f.effect={i:0,dvx:0,dvy:0,oscillate:0,stuck:!1,timeout:0},f.catching=0,f.hold={obj:null,id:0},f.switch_dir=!0,f.con=t.controller;if(f.con){var l={timeout:e.detector_config.timeout,comboout:e.detector_config.comboout,no_repeat_key:e.detector_config.no_repeat_key,callback:c};f.combodec=new i(f.con,l,e.combo_list);function c(e){var t=e.name,n=f.states[f.frame.D.state];n&&n.call(f,"combo",t),(t==="left"||t==="right")&&f.switch_dir&&f.switch_dir_fun(t)}}f.state_update("setup"),f.scene.add(f)}function a(e){var t=1,n=999,r=0,i=1;this.frame=function(e,t){this.set_next(e,t),this.set_wait(0,t)},this.set_wait=function(e,n,s){n||(n=0),n===99&&(n=r),s||(s=1),n>=r&&(r=n,i=s,s===99&&(i=t),t=e,t<0&&(t=0))},this.inc_wait=function(e,n,s){n||(n=0),n===99&&(n=r),s||(s=1),n>=r&&(r=n,i=s,s===99&&(i=t),t+=e,t<0&&(t=0))},this.set_next=function(e,s,o){s||(s=0),s===99&&(s=r),o||(o=1),s>=r&&(r=s,i=o,o===99&&(i=t),n=e)},this.next=function(){return n},this.reset_lock=function(e){e||(e=0),e===99&&(e=r),e>=r&&(r=0)},this.trans=function(){var s=r;i--,i===0&&(r=0);if(t===0){if(n!==0){n===999&&(n=0),e.frame.PN=e.frame.N,e.frame.N=n,e.state_update("frame_exit");var o=e.frame.D.state!==e.data.frame[n].state;o&&e.state_update("state_exit"),e.frame.D=e.data.frame[n];if(o){var u=e.switch_dir;e.states_switch_dir&&e.states_switch_dir[e.frame.D.state]!==undefined?e.switch_dir=e.states_switch_dir[e.frame.D.state]:e.switch_dir=!1,e.state_update("state_entry"),e.switch_dir&&!u&&e.con&&(e.con.state.left&&e.switch_dir_fun("left"),e.con.state.right&&e.switch_dir_fun("right"))}e.frame_update(),s===10&&t>0&&(t-=1)}}else t--}}var o=e.gameplay;return u.prototype.frame_update=function(){var e=this;e.sp.show_pic(e.frame.D.pic),e.frame.mobility=1,e.ps.vx+=e.dirh()*e.frame.D.dvx,e.frame.D.dvz&&(e.ps.vz+=e.dirv()*e.frame.D.dvz),e.ps.vy+=e.frame.D.dvy,e.trans.set_wait(e.frame.D.wait,99),e.trans.set_next(e.frame.D.next,99),e.state_update("frame")},u.prototype.TU_update=function(){var e=this;e.effect.stuck||e.state_update("TU"),e.effect.oscillate&&(e.effect.i===1?e.effect.i=-1:e.effect.i=1,e.sp.set_xy({x:e.ps.sx+e.effect.oscillate*e.effect.i,y:e.ps.sy+e.ps.sz})),e.effect.timeout===0?(e.effect.oscillate=0,e.effect.stuck=!1,e.sp.set_xy({x:e.ps.sx,y:e.ps.sy+e.ps.sz})):e.effect.timeout===-1&&(e.ps.vx+=e.effect.dvx,e.ps.vy+=e.effect.dvy,e.effect.dvx=0,e.effect.dvy=0),e.effect.timeout--,e.itr.lasthit--,e.itr.lasthit<-3&&(e.health.fall>0&&e.health.fall<10&&(e.health.fall=0),e.health.fall>0&&(e.health.fall+=o.recover.fall),e.health.bdefend>0&&(e.health.bdefend+=o.recover.bdefend));for(var t in e.itr.vrest)e.itr.vrest[t]>0&&e.itr.vrest[t]--;e.itr.arest>0&&e.itr.arest--},u.prototype.state_update=function(e){var t=this,n=t.states.generic;if(n)var r=n.call(t,e);var i=t.states[t.frame.D.state];if(i)var s=i.call(t,e);return r||s},u.prototype.TU=function(){var e=this;e.con&&e.con.fetch(),e.TU_update(),e.con&&e.combodec.frame()},u.prototype.transit=function(){this.effect.stuck||this.trans.trans()},u.prototype.set_pos=function(e,t,n){this.mech.set_pos(e,t,n)},u.prototype.vol_body=function(){return this.mech.body()},u.prototype.cur_state=function(){return this.frame.D.state},u.prototype.effect_create=function(e,t){var n=this;if(e!==null&&e!==undefined){var r=e+o.effect.num_to_id;n.proper(r,"oscillate")&&(n.effect.oscillate=n.proper(r,"oscillate")),n.proper(r,"cant_move")&&(n.frame.mobility=0)}n.effect.timeout=t},u.prototype.visualeffect_create=function(e,t,n,r){var i=this,s=e+o.effect.num_to_id,u={x:t.x+t.vx+(n?t.w:0),y:t.y+t.vy+t.h/2,z:t.z>i.ps.z?t.z:i.ps.z};i.visualeffect.create(u,s,r)},u.prototype.frame_ani_oscillate=function(e,t){var n=this,r=n.frame;if(r.ani.i<e||r.ani.i>t)r.ani.up=!0,r.ani.i=e+1;r.ani.i<t&&r.ani.up?n.trans.set_next(r.ani.i++):r.ani.i>e&&!r.ani.up&&n.trans.set_next(r.ani.i--),r.ani.i==t&&(r.ani.up=!1),r.ani.i==e&&(r.ani.up=!0)},u.prototype.frame_ani_sequence=function(e,t){var n=this,r=n.frame;if(r.ani.i<e||r.ani.i>t)r.ani.i=e+1;trans.set_next(r.ani.i++),r.ani.i>t&&(r.ani.i=e)},u.prototype.itr_rest_update=function(e,t){var n=this;t.arest?n.itr.vrest[e]=t.arest:t.vrest?n.itr.vrest[e]=t.vrest:n.itr.vrest[e]=o.default.character.arest},u.prototype.itr_rest_test=function(e,t){var n=this;if(!n.itr.vrest[e])return!0},u.prototype.switch_dir_fun=function(e){var t=this;t.ps.dir==="left"&&e==="right"?(t.ps.dir="right",t.sp.switch_lr("right")):t.ps.dir==="right"&&e==="left"&&(t.ps.dir="left",t.sp.switch_lr("left"))},u.prototype.dirh=function(){var e=this;return e.ps.dir==="left"?-1:1},u.prototype.dirv=function(){var e=this,t=0;return e.con&&(e.con.state.up&&(t-=1),e.con.state.down&&(t+=1)),t},u.prototype.proper=function(e,n){var r=this;return t[e]?t[e][n]:null},u}return s}),define("LF/character",["LF/livingobject","LF/global","core/util"],function(e,t,n){var r=t.gameplay,i={generic:function(e,t){var n=this;switch(e){case"TU":n.interaction(),n.mech.dynamics(),n.wpoint.call(n);var i=n.ps;if(i.y===0&&i.vy>0)i.vy=0,i.vx*=r.friction.fell.factor,i.vz*=r.friction.fell.factor;else if(i.y+i.vy>=0&&i.vy>0){var s=n.state_update("fall_onto_ground");if(s!==undefined&&s!==null)n.trans.frame(s,15);else switch(n.frame.N){case 212:n.trans.frame(215,15);break;default:n.trans.frame(219,15)}}}},0:function(e,t){var r=this;switch(e){case"TU":var i=0,s=0;r.con.state.up&&(s-=1),r.con.state.down&&(s+=1),r.con.state.left&&(i-=1),r.con.state.right&&(i+=1),(i||s)&&r.trans.frame(5);break;case"frame":r.hold.obj&&r.hold.obj.type==="heavyweapon"&&r.trans.frame(12);break;case"combo":switch(t){case"run":r.hold.obj&&r.hold.obj.type==="heavyweapon"?r.trans.frame(16,10):r.trans.frame(9,10);break;case"def":r.trans.frame(110,10);break;case"jump":r.trans.frame(210,10);break;case"att":if(r.hold.obj){var i=0;r.con.state.left&&(i-=1),r.con.state.right&&(i+=1);if(r.hold.obj.type==="heavyweapon"){r.trans.frame(50,10);return}if(r.proper(r.hold.id,"just_throw")){r.trans.frame(45,10);return}if(i&&r.proper(r.hold.id,"stand_throw")){r.trans.frame(45,10);return}if(r.proper(r.hold.id,"attackable")){r.trans.frame(r.match.random()<.5?20:25,10);return}}var o=r.mech.volume(n.make_array(r.data.frame[72].itr)[0]),u=r.scene.query(o,r,{tag:"itr:6",not_team:r.team});for(var a in u){var f=u[a].vol_itr(6)[0].data;if(r.itr_rest_test(u[a].uid,f)){r.trans.frame(70,10),r.itr_rest_update(u[a].uid,f);return}}r.trans.frame(r.match.random()<.5?60:65,10)}}},1:function(e,t){var n=this;switch(e){case"TU":var r=0;n.con.state.left&&(r-=1),n.con.state.right&&(r+=1),n.hold.obj&&n.hold.obj.type==="heavyweapon"?(r!==0&&(n.ps.vx=n.dirh()*n.data.bmp.heavy_walking_speed),n.ps.vz=n.dirv()*n.data.bmp.heavy_walking_speedz):(r!==0&&(n.ps.vx=n.dirh()*n.data.bmp.walking_speed),n.ps.vz=n.dirv()*n.data.bmp.walking_speedz);break;case"frame":var r=0,i=0;n.con.state.up&&(i-=1),n.con.state.down&&(i+=1),n.con.state.left&&(r-=1),n.con.state.right&&(r+=1),n.hold.obj&&n.hold.obj.type==="heavyweapon"?r||i?n.frame_ani_oscillate(12,15):n.trans.set_next(n.frame.N):(n.frame_ani_oscillate(5,8),!r&&!i&&n.trans.frame(999)),n.trans.set_wait(n.data.bmp.walking_frame_rate-1);break;case"state_entry":n.trans.set_wait(0);break;case"combo":n.states[0].call(n,e,t)}},2:function(e,t){var n=this;switch(e){case"TU":n.hold.obj&&n.hold.obj.type==="heavyweapon"?(n.ps.vx=n.dirh()*n.data.bmp.heavy_running_speed,n.ps.vz=n.dirv()*n.data.bmp.heavy_running_speedz):(n.ps.vx=n.dirh()*n.data.bmp.running_speed,n.ps.vz=n.dirv()*n.data.bmp.running_speedz);break;case"frame":n.hold.obj&&n.hold.obj.type==="heavyweapon"?n.frame_ani_oscillate(16,18):n.frame_ani_oscillate(9,11),n.trans.set_wait(n.data.bmp.running_frame_rate);break;case"combo":switch(t){case"left":case"right":t!=n.ps.dir&&(n.hold.obj&&n.hold.obj.type==="heavyweapon"?n.trans.frame(19,10):n.trans.frame(218,10));break;case"def":n.trans.frame(102,10);break;case"jump":n.trans.frame(213,10);break;case"att":if(n.hold.obj){if(n.hold.obj.type==="heavyweapon"){n.trans.frame(50,10);return}var r=0;n.con.state.left&&(r-=1),n.con.state.right&&(r+=1);if(r&&n.proper(n.hold.id,"run_throw")){n.trans.frame(45,10);return}if(n.proper(n.hold.id,"attackable")){n.trans.frame(35,10);return}}n.trans.frame(85,10)}}},3:function(e,t){var n=this;switch(e){case"frame":(n.frame.N===81||n.frame.N===33)&&n.trans.set_next(212)}},4:function(e,t){var n=this;switch(e){case"frame":if(n.frame.N===212&&n.frame.PN===211){var r=0;n.con.state.left&&(r-=1),n.con.state.right&&(r+=1),n.ps.vx=r*n.data.bmp.jump_distance,n.ps.vz=n.dirv()*n.data.bmp.jump_distancez,n.ps.vy=n.data.bmp.jump_height}break;case"TU":if(n.frame.N===212&&n.con.state.att)if(n.hold.obj){var r=0;n.con.state.left&&(r-=1),n.con.state.right&&(r+=1),r&&n.proper(n.hold.id,"jump_throw")?n.trans.frame(52,10):n.proper(n.hold.id,"attackable")&&n.trans.frame(30,10)}else n.trans.frame(80,10)}},5:function(e,t){var n=this;switch(e){case"state_entry":n.ps.vx=n.dirh()*n.data.bmp.dash_distance,n.ps.vz=n.dirv()*n.data.bmp.dash_distancez,n.ps.vy=n.data.bmp.dash_height;break;case"combo":t==="att"&&n.dirh()===(n.ps.vx>0?1:-1)&&(n.hold.obj&&n.proper(n.hold.id,"attackable")?n.trans.frame(40,10):n.trans.frame(90,10),n.switch_dir=!1),(t==="left"||t==="right")&&t!=n.ps.dir&&(n.dirh()==(n.ps.vx>0?1:-1)?(n.frame.N===213&&n.trans.frame(214,0),n.frame.N===216&&n.trans.frame(217,0)):(n.frame.N===214&&n.trans.frame(213,0),n.frame.N===217&&n.trans.frame(216,0)))}},6:function(e,t){var n=this;switch(e){}},7:function(e,t){var n=this;switch(e){case"frame":n.frame.mobility=.2,n.frame.N===111&&n.trans.inc_wait(4)}},8:function(e,t){var n=this;switch(e){case"frame":n.frame.mobility=.1,n.frame.N===112&&n.trans.inc_wait(4)}},9:function(e,t){var n=this;switch(e){case"state_exit":n.catching=0,n.ps.zz=0;break;case"frame":n.state9={},n.state9.frameTU=!0,n.catching.caught_b(n.mech.make_point(n.frame.D.cpoint),n.frame.D.cpoint,n.ps.dir);break;case"TU":if(n.caught_cpointkind()===1&&n.catching.caught_cpointkind()===2){if(n.state9.frameTU){n.state9.frameTU=!1,n.frame.D.cpoint.injury&&(n.catching.hit(n.frame.D.cpoint,n,{x:n.ps.x,y:n.ps.y,z:n.ps.z},null),n.trans.inc_wait(1,10,99));var i=r.default.cpoint.cover;n.frame.D.cpoint.cover&&(i=n.frame.D.cpoint.cover),i===0||i===10?n.ps.zz=1:n.ps.zz=-1,n.frame.D.cpoint.dircontrol===1&&(n.con.state.left&&n.switch_dir_fun("left"),n.con.state.right&&n.switch_dir_fun("right"))}}else n.trans.frame(999,10);break;case"combo":if(n.frame.N===121)switch(t){case"att":var s=0;n.con.state.left&&(s-=1),n.con.state.right&&(s+=1);if(s&&n.frame.D.cpoint.taction){var o=n.frame.D.cpoint.taction;o<0?(n.switch_dir_fun(n.ps.dir==="right"?"left":"right"),n.trans.frame(-o,10)):n.trans.frame(o,10);var u=n.data.frame[n.trans.next()];n.catching.caught_throw(u.cpoint,n.dirv())}else n.frame.D.cpoint.aaction?n.trans.frame(n.frame.D.cpoint.aaction,10):n.trans.frame(122,10);break;case"jump":n.frame.D.cpoint.jaction&&n.trans.frame(n.frame.D.cpoint.jaction,10)}}},10:function(e,t){var n=this;switch(e){case"state_exit":n.catching=0;break;case"frame":n.state10={},n.state10.frameTU=!0,n.trans.set_wait(99,10,99),n.frame.mobility=0;break;case"TU":if(n.caught_cpointkind()===2&&n.catching.caught_cpointkind()===1){if(n.state10.frameTU){n.state10.frameTU=!1;var i=n.caught_b_holdpoint,s=n.caught_b_cpoint,o=n.caught_b_adir;s.vaction&&n.trans.frame(s.vaction,20);if(s.throwvz!==r.unspecified){var u=s.throwvx,a=s.throwvy,f=s.throwvz;u!==0&&(n.ps.vx=(o==="right"?1:-1)*u),a!==0&&(n.ps.vy=a),f!==0&&(n.ps.vz=f*n.caught_throwz),n.mech.set_pos(n.ps.x+n.ps.vx*2.5,n.ps.y+n.ps.vy*2,n.ps.z+n.ps.vz)}else s.dircontrol===undefined?(s.cover&&s.cover>=10?n.switch_dir_fun(o):n.switch_dir_fun(o==="left"?"right":"left"),n.mech.coincideXZ(i,n.mech.make_point(n.frame.D.cpoint))):n.mech.coincideXY(i,n.mech.make_point(n.frame.D.cpoint))}}else n.trans.frame(212,10)}},11:function(e,t){var n=this;switch(e){case"state_entry":n.trans.inc_wait(0,20);break;case"frame":switch(n.frame.N){case 220:case 222:case 224:case 226:n.trans.inc_wait(2,20,99),n.frame.mobility=0}}},12:function(e,t){var n=this;switch(e){case"frame":switch(n.frame.N){case 180:n.trans.set_next(181);break;case 181:n.trans.set_next(182);break;case 182:n.trans.set_next(183);break;case 186:n.trans.set_next(187);break;case 187:n.trans.set_next(188);break;case 188:n.trans.set_next(189)}break;case"fall_onto_ground":var i=n.ps;if(this.mech.speed()>r.character.bounceup.limit){i.vy*=r.character.bounceup.factor.y,i.vx*=r.character.bounceup.factor.x,i.vz*=r.character.bounceup.factor.z;if(180<=n.frame.N&&n.frame.N<=185)return 185;if(186<=n.frame.N&&n.frame.N<=191)return 191}else{if(180<=n.frame.N&&n.frame.N<=185)return 230;if(186<=n.frame.N&&n.frame.N<=191)return 231}n.caught_throwinjury!==0&&(n.health.hp-=n.caught_throwinjury,n.caught_throwinjury=0)}},14:function(e,t){var n=this;switch(e){case"state_entry":n.health.fall=0,n.health.bdefend=0}},15:function(e,t){var n=this;switch(e){case"frame":n.hold.obj&&n.hold.obj.type==="heavyweapon"&&n.frame.N===19&&n.trans.set_next(12);break;case"combo":if(n.frame.N===215){t==="def"&&n.trans.frame(102,10);if(t==="jump"){var r=0;n.con.state.left&&(r-=1),n.con.state.right&&(r+=1),r?(n.trans.frame(213,10),n.switch_dir_fun(r===1?"right":"left")):(n.trans.inc_wait(2,10,99),n.trans.set_next(210,10))}}}},16:function(e,t){var n=this;switch(e){}},x:function(e,t){var n=this;switch(e){}}},s={0:!0,1:!0,2:!1,3:!1,4:!0,5:!0,6:!1,7:!0,8:!1,9:!1,10:!1,11:!1,12:!1,13:!0,14:!1,15:!1,16:!1},o={type:"character",states:i,states_switch_dir:s},u=e(o);return u.prototype.hit=function(e,t,n,i){var s=this,o=!1;if(s.cur_state()===10){s.catching.caught_cpointhurtable()&&(s.itr.lasthit=0,o=!0,l());if(s.catching.caught_cpointhurtable()!==0||s.catching===t){s.itr.lasthit=0,o=!0,s.health.hp-=Math.abs(e.injury);if(e.injury>0){s.effect_create(0,r.default.effect.duration);var u=n.x>s.ps.x==(s.ps.dir==="right")?s.frame.D.cpoint.fronthurtact:s.frame.D.cpoint.backhurtact;e.vaction&&(u=e.vaction),s.trans.frame(u,20)}}}else if(s.cur_state()!==14){s.itr.lasthit=0,o=!0,s.effect.dvx=e.dvx?t.dirh()*e.dvx:0,s.effect.dvy=e.dvy?e.dvy:0,s.cur_state()===7&&n.x>s.ps.x==(s.ps.dir==="right")?(e.injury&&(s.health.hp-=r.defend.injury.factor*e.injury),e.bdefend&&(s.health.bdefend+=e.bdefend),s.health.bdefend>r.defend.break?s.trans.frame(112,20):s.trans.frame(111,20)):(e.injury&&(s.health.hp-=e.injury),s.health.bdefend=45,l());var a=r.default.effect.duration;switch(s.trans.next()){case 111:a=4;break;case 112:a=5}var f=e.effect?e.effect:r.default.effect.num;s.effect_create(f,a),s.visualeffect_create(f,i,n.x<s.ps.x,s.health.fall>0?1:2);function l(){e.fall?s.health.fall+=e.fall:s.health.fall+=r.default.fall.value;var t=s.health.fall;0<t&&t<=20?s.trans.frame(220,20):20<t&&t<=40&&s.ps.y<0?c():20<t&&t<=40?s.trans.frame(s.match.random()<.5?222:224,20):40<t&&t<=60?s.trans.frame(226,20):r.fall.KO<t&&c()}function c(){s.health.fall=0,n.x>s.ps.x==(s.ps.dir==="right")?s.trans.frame(180,20):s.trans.frame(186,20),e.dvy||(s.effect.dvy=r.default.fall.dvy),s.proper(s.effect.id,"drop_weapon")&&s.drop_weapon(s.effect.dvx,s.effect.dvy)}}return o},u.prototype.interaction=function(){var e=this,t=n.make_array(e.frame.D.itr);for(var i in t){var s=t[i],o=e.mech.volume(s),u=e.scene.query(o,e,{tag:"body"});switch(s.kind){case 0:for(var a in u)if(u[a].team!==e.team&&e.itr_rest_test(u[a].uid,s)&&u[a].hit(s,e,{x:e.ps.x,y:e.ps.y,z:e.ps.z},o)){e.itr_rest_update(u[a].uid,s),e.frame.N===72?e.trans.inc_wait(4,10):e.trans.inc_wait(r.default.itr.hit_stall,10);if(s.arest)break}break;case 1:for(var a in u)if(u[a].team!==e.team&&u[a].type==="character"&&u[a].cur_state()===16&&e.itr_rest_test(u[a].uid,s)){var f=u[a].caught_a(s,e,{x:e.ps.x,y:e.ps.y,z:e.ps.z});if(f){e.itr_rest_update(u[a].uid,s),f==="front"?e.trans.frame(s.catchingact[0],10):e.trans.frame(s.catchingact[1],10),e.catching=u[a];break}}break;case 2:for(var a in u)if(u[a].type==="lightweapon"||u[a].type==="heavyweapon")if(u[a].pick(e)){e.itr_rest_update(u[a].uid,s),u[a].type==="lightweapon"?e.trans.frame(115,10):u[a].type==="heavyweapon"&&e.trans.frame(116,10),e.hold.obj=u[a],e.hold.obj.team=e.team,e.hold.id=e.hold.obj.id;break}}}},u.prototype.wpoint=function(){var e=this;if(e.hold.obj&&e.frame.D.wpoint){var t=e.hold.obj.act(e,e.frame.D.wpoint,e.mech.make_point(e.frame.D.wpoint));t.thrown&&(e.hold.obj=null,e.hold.id=0),t.hit!==null&&t.hit!==undefined&&(e.itr_rest_update(t.hit,t),e.trans.inc_wait(r.default.itr.hit_stall,10))}},u.prototype.drop_weapon=function(e,t){var n=this;n.hold.obj&&(n.hold.obj.drop(e,t),n.hold.obj=null,n.hold.id=0)},u.prototype.vol_itr=function(e){var t=this;return t.frame.D.itr?t.mech.body(t.frame.D.itr,function(t){return t.kind==e}):[]},u.prototype.caught_a=function(e,t,n){var r=this;if(r.cur_state()===16){return n.x>r.ps.x==(r.ps.dir==="right")?r.trans.frame(e.caughtact[0],20):r.trans.frame(e.caughtact[1],20),r.health.fall=0,r.catching=t,r.drop_weapon(),n.x>r.ps.x==(r.ps.dir==="right")?"front":"back"}},u.prototype.caught_b=function(e,t,n){var r=this;r.caught_b_holdpoint=e,r.caught_b_cpoint=t,r.caught_b_adir=n},u.prototype.caught_cpointkind=function(){var e=this;return e.frame.D.cpoint?e.frame.D.cpoint.kind:0},u.prototype.caught_cpointhurtable=function(){var e=this;return e.frame.D.cpoint&&e.frame.D.cpoint.hurtable?e.frame.D.cpoint.hurtable:r.default.hurtable},u.prototype.caught_throw=function(e,t){var n=this;e.vaction?n.trans.frame(e.vaction,20):n.trans.frame(r.default.throw.frame,20),n.caught_throwinjury=e.throwinjury,n.caught_throwz=t},u}),define("LF/weapon",["LF/livingobject","LF/global","core/util"],function(e,t,n){function i(t){var i={generic:function(e,t){var n=this;switch(e){case"TU":n.interaction();switch(n.cur_state()){case 1001:case 2001:break;default:n.mech.dynamics()}var i=n.ps;i.y===0&&i.vy>0&&(n.heavy&&this.mech.speed()>r.weapon.bounceup.limit?(i.vy=r.weapon.bounceup.speed.y,i.vx=r.weapon.bounceup.speed.x*(i.vx===0?0:i.vx>0?1:-1),i.vz=r.weapon.bounceup.speed.z*(i.vz===0?0:i.vz>0?1:-1)):(i.vy=0,n.light&&n.trans.frame(70),n.heavy&&n.trans.frame(21),n.health.hp-=n.data.bmp.weapon_drop_hurt),i.zz=0)}},1004:function(e,t){var n=this;switch(e){case"frame":n.frame.N===64&&(n.team=0)}},2e3:function(e,t){var n=this;switch(e){case"frame":n.frame.N===21&&n.trans.set_next(20)}},2004:function(e,t){var n=this;switch(e){case"frame":n.frame.N===20&&(n.team=0)}}},s={type:t,states:i,states_switch_dir:null},o=e(s);return o.prototype.light=t==="lightweapon",o.prototype.heavy=t==="heavyweapon",o.prototype.interaction=function(){var e=this,t=n.make_array(e.frame.D.itr);if(e.team!==0)if(e.heavy||e.light&&e.cur_state()===1002)for(var i in t)if(t[i].kind===0){var s=e.mech.volume(t[i]),o=e.scene.query(s,e,{tag:"body",not_team:e.team});for(var u in o){var a;t[i].arest||t[i].vrest?a=t[i]:a=r.default.weapon,a.arest&&(a.arest+=20),console.log("I="+e.uid+", he="+o[u].uid+", arest="+a.arest+", vrest="+a.vrest+", itr.arest="+e.itr.arest+", itr.vrest="+e.itr.vrest[o[u].uid]);if(e.itr_rest_test(o[u].uid,a)&&o[u].hit(t[i],e,{x:e.ps.x,y:e.ps.y,z:e.ps.z},s)){console.log("hit$.state="+e.cur_state());var f=e.ps,l=f.vx===0?0:f.vx>0?1:-1;e.light&&(f.vx=l*r.weapon.hit.vx,f.vy=r.weapon.hit.vy),e.itr_rest_update(o[u].uid,a),e.effect.timeout=2,e.effect.stuck=!0}}}},o.prototype.hit=function(e,t,n,i){var s=this;if(s.holder)return!1;var o=!1;if(s.light)if(s.cur_state()===1002)o=!0,t.dirh()>0!=s.ps.vx>0&&(s.ps.vx*=r.weapon.reverse.factor.vx),s.ps.vy*=r.weapon.reverse.factor.vy,s.ps.vz*=r.weapon.reverse.factor.vz;else if(s.cur_state()===1004){o=!0;var u=t.mech.speed();s.ps.vx=u*r.weapon.gain.factor.x*(t.ps.vx>0?1:-1),s.ps.vy=u*r.weapon.gain.factor.y}if(s.heavy){o=!0;var u=t.mech.speed();s.ps.vx=u*r.weapon.gain.factor.x*(t.ps.vx>0?1:-1),s.ps.vy=u*r.weapon.gain.factor.y}var a=e.fall?e.fall:r.default.fall.value;return s.visualeffect_create(0,i,n.x<s.ps.x,a<r.fall.KO?1:2),s.team=t.team,o},o.prototype.act=function(e,t,i){var s=this,o=s.frame.D,u={};s.data.frame[t.weaponact]&&(s.trans.frame(t.weaponact),s.trans.trans());if(o.wpoint&&o.wpoint.kind===2){t.dvx&&(s.ps.vx=e.dirh()*t.dvx),t.dvz&&(s.ps.vz=e.dirv()*t.dvz),t.dvy&&(s.ps.vy=t.dvy);if(s.ps.vx||s.ps.vy||s.ps.vz){var a,f;s.light&&(a=73,f=-23),s.heavy&&(a=48,f=-40),s.mech.set_pos(e.ps.x+e.dirh()*a,e.ps.y+f,e.ps.z+s.ps.vz),s.ps.zz=1,s.light&&s.trans.frame(40),s.heavy&&s.trans.frame(999),s.trans.trans(),s.holder=null,u.thrown=!0}u.thrown||(t.cover&&t.cover===1?s.ps.zz=-1:s.ps.zz=r.default.wpoint.cover,s.switch_dir_fun(e.ps.dir),s.ps.sz=s.ps.z=e.ps.z,s.mech.coincideXY(i,s.mech.make_point(o.wpoint)),s.mech.project());if(s.light&&t.attacking){var l=n.make_array(o.itr);for(var c in l)if(l[c].kind===5){var h=s.mech.volume(l[c]),p=s.scene.query(h,[s,e],{tag:"body",not_team:s.team});for(var d in p)if(s.itr_rest_test(p[d].uid,l[c])&&e.itr_rest_test(p[d].uid,l[c])){s.itr_rest_update(p[d].uid,l[c]);var v;s.data.weapon_strength_list&&s.data.weapon_strength_list[t.attacking]?v=s.data.weapon_strength_list[t.attacking]:v=l[c],p[d].hit(v,e,{x:e.ps.x,y:e.ps.y,z:e.ps.z},h)&&(v.vrest&&(u.vrest=v.vrest),v.arest&&(u.arest=v.arest),u.hit=p[d].uid)}}}}return u},o.prototype.drop=function(e,t){var n=this;n.team=0,n.holder=null,e&&(n.ps.vx=e*.5),t&&(n.ps.vy=t*.2),n.ps.zz=0,n.trans.frame(999)},o.prototype.pick=function(e){var t=this;return t.holder?!1:(t.holder=e,!0)},o.prototype.vol_itr=function(e){var t=this;return t.frame.D.itr?t.mech.body(t.frame.D.itr,function(t){return t.kind==e}):[]},o}var r=t.gameplay;return i}),define("LF/effects",["LF/global","LF/sprite"],function(e,t){function n(e,t,n){this.efs={};for(var i=0;i<t.length;i++)this.efs[n[i]]=new r(e,t[i],n[i])}function r(e,t,n){this.pool=[],this.S=0,this.E=0,this.type=t.effect_list,this.full=!1,this.type||(this.type={});for(var r=0;r<e.init_size;r++)this.pool[r]=new i(e,t,n,this)}function i(e,n,r,i){this.parent=i,this.dat=n,this.id=r,this.sp=new t(this.dat.bmp,e.stage),this.sp.hide(),this.frame,this.frameD,this.wait=-1,this.next}return n.prototype.create=function(e,t,n){n||(n=0),this.efs[t]&&this.efs[t].create(e,n)},n.prototype.TU=function(){for(var e in this.efs)this.efs[e].TU()},n.prototype.transit=function(){},r.prototype.create=function(e,t){if(this.full)return;this.E<this.pool.length?this.E++:this.E=1,this.E===this.S&&(console.log("effects pool satuated"),this.full=!0);var n;this.type[t]&&this.type[t].frame?n=this.type[t].frame:n=0,this.pool[this.E-1].born(e,n)},r.prototype.finish=function(){this.S<this.pool.length-1?this.S++:this.S=0,this.full=!1},r.prototype.TU=function(){if(!!this.full||this.S!==this.E)if(this.S<this.E)for(var e=this.S;e<this.E;e++)this.pool[e].TU();else{for(var e=0;e<this.E;e++)this.pool[e].TU();for(var t=this.S;t<this.pool.length;t++)this.pool[t].TU()}},i.prototype.TU=function(){this.sp.show_pic(this.frameD.pic),this.wait=this.frameD.wait,this.next=this.frameD.next;if(this.wait===0){if(this.next===999)this.next=0;else if(this.next===1e3){this.die();return}this.frame=this.next,this.frameD=this.dat.frame[this.frame]}else this.wait--},i.prototype.trans=function(){},i.prototype.set_pos=function(e,t,n){},i.prototype.born=function(e,t){this.frame=t,this.frameD=this.dat.frame[this.frame];var n=e.x-this.frameD.centerx,r=e.y-this.frameD.centery,i=e.z;this.sp.set_xy({x:n,y:r+i}),this.sp.set_z(i+1),this.sp.show_pic(this.frameD.pic),this.sp.show()},i.prototype.die=function(){this.sp.hide(),this.parent.finish()},n}),define("LF/factories",["LF/character","LF/weapon","LF/effects"],function(e,t,n){return{character:e,lightweapon:t("lightweapon"),heavyweapon:t("heavyweapon"),effects:n}}),define("core/math",[],function(){return math={inbetween:function(e,t,n){var r,i;return t<=n?(r=t,i=n):(r=n,i=t),e>=r&&e<=i},round_d2:function(e){return Math.round(e*100)/100},negligible:function(e){return-1e-8<e&&e<1e-8},bezier2:function(e,t,n,r){var i=new Array;for(var s=0;s<r;s++)i.push(math.bezier2_step(e,t,n,s,r));return i.push(n),i},bezier2_step:function(e,t,n,r,i){function o(e,t,n,r){return((r-n)*e+n*t)/r}var s={x:0,y:0};return s.x=o(o(e.x,t.x,r,i),o(t.x,n.x,r,i),r,i),s.y=o(o(e.y,t.y,r,i),o(t.y,n.y,r,i),r,i),s},add:function(e,t){return{x:e.x+t.x,y:e.y+t.y}},sub:function(e,t){return{x:e.x-t.x,y:e.y-t.y}},sca:function(e,t){return{x:e.x*t,y:e.y*t}},length:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},distance:function(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},negative:function(e){return{x:-e.x,y:-e.y}},normalize:function(e){return math.sca(e,1/math.length(e))},perpen:function(e){return{x:-e.y,y:e.x}},signed_area:function(e,t,n){var r=(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y);return r},intersect:function(e,t,n,r){var i,s,o,u,a;return o=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y),u=(r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x),a=(t.x-e.x)*(e.y-n.y)-(t.y-e.y)*(e.x-n.x),negligible(u)&&negligible(a)&&negligible(o)?{x:(e.x+t.x)*.5,y:(e.y+t.y)*.5}:negligible(o)?{x:0,y:0}:(i=u/o,s=a/o,{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)})}},math}),define("core/collision",["core/math"],function(e){return{rect:function(e,t){return e.bottom<t.top?!1:e.top>t.bottom?!1:e.right<t.left?!1:e.left>t.right?!1:!0},normalize_rect:function(e){return e.left>e.right&&e.top>e.bottom?{left:e.right,right:e.left,top:e.bottom,bottom:e.top}:e.left>e.right?{left:e.right,right:e.left,top:e.top,bottom:e.bottom}:e.top>e.bottom?{left:e.left,right:e.right,top:e.bottom,bottom:e.top}:e},tri:function(t,n){function o(){var e=s;return s+=4,i[e]!=i[e+1]&&i[e+2]!=i[e+3]}var r=e.signed_area,i=[],s=0;i.push(r(t[0],t[1],n[0])>0,r(t[0],t[1],n[1])>0,r(t[0],n[0],n[1])>0,r(t[1],n[0],n[1])>0);if(o())return!0;i.push(i[1],r(t[0],t[1],n[2])>0,r(t[0],n[1],n[2])>0,r(t[1],n[1],n[2])>0);if(o())return!0;i.push(i[0],i[5],r(t[0],n[0],n[2])>0,r(t[1],n[0],n[2])>0);if(o())return!0;i.push(r(t[1],t[2],n[0])>0,r(t[1],t[2],n[1])>0,i[3],r(t[2],n[0],n[1])>0);if(o())return!0;i.push(i[13],r(t[1],t[2],n[2])>0,i[7],r(t[2],n[1],n[2])>0);if(o())return!0;i.push(i[12],i[17],i[11],r(t[2],n[0],n[2])>0);if(o())return!0;i.push(r(t[0],t[2],n[0])>0,r(t[0],t[2],n[1])>0,i[2],i[15]);if(o())return!0;i.push(i[25],r(t[0],t[2],n[2])>0,i[6],i[19]);if(o())return!0;i.push(i[24],i[29],i[10],i[23]);if(o())return!0;var u=[i[2]==i[6]&&i[6]==!i[10],i[3]==i[7]&&i[7]==!i[11],i[15]==i[19]&&i[19]==!i[23]],a=[i[0]==i[12]&&i[12]==!i[24],i[1]==i[13]&&i[13]==!i[25],i[9]==i[21]&&i[21]==!i[33]];return u[0]&&u[1]&&u[2]?!0:a[0]&&a[1]&&a[2]?!0:!1},circle:function(t,n){return e.distance(t.center,n.center)<=t.radius+n.radius},line:function(t,n,r,i){var s=e.signed_area(t,n,r)>0!=e.signed_area(t,n,i)>0&&e.signed_area(r,i,t)>0!=e.signed_area(r,i,n)>0;return s},point_in_rect:function(t,n){return e.inbetween(t.x,n.left,n.right)&&e.inbetween(t.y,n.top,n.bottom)}}}),define("LF/scene",["core/util","core/collision"],function(e,t){function r(e){this.live={}}var n=0;return r.prototype.add=function(e){return e.uid=n++,this.live[e.uid]=e,e.uid},r.prototype.remove=function(e){delete this.live[e.uid],e.uid=-1},r.prototype.query=function(t,n,r){var i=[],s=r.tag;s||(s="body");var o=0,u=s.indexOf(":");u!==-1&&(o=s.slice(u+1),s=s.slice(0,u)),n=e.make_array(n);for(var a in this.live){var f=!1;for(var l in n)if(this.live[a]===n[l]){f=!0;break}if(f)continue;if(r.not_team&&this.live[a].team===r.not_team)continue;if(r.type&&this.live[a].type!==r.type)continue;if(r.filter&&!r.filter(this.live[a]))continue;if(this.live[a]["vol_"+s]){var c=this.live[a]["vol_"+s](o);for(var h in c)if(this.intersect(t,c[h])){i.push(this.live[a]);break}}}return i},r.prototype.intersect=function(e,n){var r={left:e.x+e.vx,top:e.y+e.vy,right:e.x+e.vx+e.w,bottom:e.y+e.vy+e.h},i={left:n.x+n.vx,top:n.y+n.vy,right:n.x+n.vx+n.w,bottom:n.y+n.vy+n.h};return t.rect(r,i)&&t.rect({left:e.z-e.zwidth,top:0,right:e.z+e.zwidth,bottom:1},{left:n.z-n.zwidth,top:0,right:n.z+n.zwidth,bottom:1})},r.prototype.distance=function(e,t){var n=e.x+e.centerx-(t.x+t.centerx),r=e.y-t.y,i=e.z+e.centery-(t.z+t.centery);return Math.sqrt(n*n+r*r+i*i)},r}),define("LF/third_party/random",[],function(){function e(){this.next=function(){return this.x==0&&this.x==-1,this.y==0&&this.y==-1,this.x=this.nextX(),this.y=this.nextY(),((this.x<<16)+(this.y&65535))/4294967295+.5},this.nextX=function(){return 36969*(this.x&65535)+(this.x>>16)},this.nextY=function(){return 18273*(this.y&65535)+(this.y>>16)},this.nextInt=function(t,n){return n||(t=0,n=4294967295),Math.floor(this.next()*(n-t))+t},this.seed=function(e){this.x=e*3253,this.y=this.nextX()},this.seed2d=function(t,n){this.x=t*2549+n*3571,this.y=n*2549+t*3571},this.seed3d=function(t,n,r){this.x=t*2549+n*3571+r*3253,this.y=t*3253+n*2549+r*3571},this.seed_bytime=function(){var e=(new Date).getTime();return this.seed(e),e}}return e}),define("LF/match",["core/util","core/controller","LF/factories","LF/scene","LF/third_party/random"],function(e,t,n,r,i){function s(e){this.stage=e.stage,this.state=e.state,this.data=e.data,this.config=e.config,this.config||(this.config={}),this.time}return s.prototype.start=function(e){this.scene=new r,this.effects=this.create_effects(this.config.effects),this.character=this.create_characters(e.player),this.randomseed=this.new_randomseed(),this.control=this.create_controller(e.control),this.lightweapon=[],this.heavyweapon=[],this.drop_weapons(),this.create_timer()},s.prototype.create_timer=function(){this.time={paused:!1,timer:null,$fps:document.getElementById("fps")};var e=this;this.time.timer=setInterval(function(){e.frame()},1e3/30.5)},s.prototype.frame=function(){this.control&&this.control.fetch(),this.time.paused?this.time.$fps&&(this.time.$fps.value="paused"):(this.TU_trans(),this.calculate_fps(1))},s.prototype.TU_trans=function(){this.for_all("transit"),this.for_all("TU")},s.prototype.for_all=function(e){for(var t in this.character)this.character[t][e]();for(var t in this.lightweapon)this.lightweapon[t][e]();for(var t in this.heavyweapon)this.heavyweapon[t][e]();this.effects[e]()},s.prototype.calculate_fps=function(e){if(this.time.$fps){var t=this.time.time;this.time.time=(new Date).getTime();var n=this.time.time-t;this.time.$fps.value=Math.round(1e3/n*e)+"fps"}},s.prototype.create_characters=function(e){var t=[{x:400,y:0,z:200},{x:300,y:0,z:200},{x:200,y:0,z:200},{x:500,y:0,z:200}],r=[],i={match:this,stage:this.stage,scene:this.scene,effects:this.effects,team:0,controller:null};for(var s=0;s<e.length;s++){var o=e[s];i.controller=o.controller,i.team=o.team;var u=r.push(new n.character(i,o.data,o.id));r[u-1].set_pos(t[u-1].x,t[u-1].y,t[u-1].z)}return r},s.prototype.create_effects=function(t){var r=t?t:{init_size:20};r.match=this,r.stage=this.stage;var i=e.extract_array(this.data.object.effects,["data","id"]);return new n.effects(r,i.data,i.id)},s.prototype.create_random=function(){},s.prototype.drop_weapons=function(){this.create_weapon(100,{x:100,y:-800,z:200}),this.create_weapon(101,{x:500,y:-800,z:200}),this.create_weapon(150,{x:400,y:-800,z:250})},s.prototype.create_weapon=function(t,r){var i=t<150?"lightweapon":"heavyweapon",s={match:this,stage:this.stage,scene:this.scene,effects:this.effects},o=e.arr_search(this.data.object[i],function(e){return e.id===t}),u=this.data.object[i][o],a=new n[i](s,u.data,u.id);a.set_pos(r.x,r.y,r.z),this[i].push(a)},s.prototype.periodic_event=function(e){},s.prototype.new_randomseed=function(){var e=new i;return e.seed_bytime(),e},s.prototype.random=function(){return this.randomseed.next()},s.prototype.create_controller=function(e){if(e==="debug"){var n={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",ctrl:"ctrl"},r=new t(n),i=this;return r.child.push({key:function(e,t){if(t)switch(e){case"1":i.time.paused?i.time.paused=!1:i.time.paused=!0;break;case"2":i.time.paused?i.TU_trans():i.time.paused=!0}}}),r.sync=!0,r}},s}),define("LF/keychanger",["core/controller"],function(e){function t(t,n){function o(n,r){function h(t,r){a(t,r);var i=a(t,n.config[r]);i.onclick=function(){if(!change_active){change_active=!0;var t=this;t.style.backgroundColor="#FAA";var s=window.onkeydown;window.onkeydown=function(o){o||(o=window.event);var u=o.keyCode;window.onkeydown=s,i.innerHTML=e.keycode_to_keyname(u),n.config[r]=e.keycode_to_keyname(u),n.keycode[r]=u,t.style.backgroundColor="#EEE",change_active=!1}}}}if(r!==0){var i=u(t,"div");i.style.float="left",i.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;"}var s=u(t,"table");s.style.float="left";var o=[];o[0]=u(s,"tr");var f=a(o[0],"player "+(r+1));f.colSpan="2";var l=1;for(var c in n.config)o[l]=u(s,"tr"),h(o[l],c),l++}function u(e,t,n){var r=document.createElement(t);return e.appendChild(r),n&&(r.id=n),r}function a(e,t){var n=u(e,"td");return n.innerHTML=t,n.style.border="1px solid #AAA",n.style.backgroundColor="#EEE",n.style.fontFamily="monospace",n.style.width="40px",n.style.textAlign="center",n}t.style.textAlign="center";for(var r=0;r<n.length;r++)o(n[r],r);var i=u(t,"div");i.style.clear="both";var s=u(t,"button");s.innerHTML="close",s.style.width="120px",s.onclick=function(){s.onclick=null,t.parentNode.removeChild(t)}}return change_active=!1,t}),requirejs.config({baseUrl:"../../",paths:{loader_depend:"LFrelease/data/data",data:"LFrelease/data"}}),requirejs(["core/controller","core/sprite","LF/loader!data","LF/match","LF/keychanger"],function(e,t,n,r,i){t.prototype.config({baseUrl:"../../../LFrelease/"});var s={up:"u",down:"m",left:"h",right:"k",def:",",jump:"i",att:"j"},o={up:"w",down:"x",left:"a",right:"d",def:"z",jump:"q",att:"s"},u=new e(s),a=new e(o);u.sync=!0,a.sync=!0;var f=document.getElementById("keychanger");f.style.display="none",i(f,[u,a]),f.style.backgroundColor="#FFF",f.style.display="";var l=new r({stage:document.getElementById("stage"),state:null,config:null,data:n});l.start({player:[{controller:u,data:n.object.character[0].data,id:n.object.character[0].id,team:1},{controller:a,data:n.object.character[0].data,id:n.object.character[0].id,team:2}],control:"debug"})}),define("LF/demo/demo3",function(){})
</script>
</body>
